<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>12&nbsp; Dates – COMP/STAT112 Notebook</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../ica/ica-imp.html" rel="next">
<link href="../ica/ica-wrang.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><link rel="stylesheet" href="../style/custom.css">
</head>
<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../ica/ica-uni.html">In-class Activities</a></li><li class="breadcrumb-item"><a href="../ica/ica-dates.html"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Dates</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Merce Lutzker</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Best Work</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bw/bw-uni.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Univariate Viz</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bw/bw-bi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Bivariate Viz</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bw/bw-tri.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Trivariate Viz</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bw/bw-quad.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Quadvariate Viz</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bw/bw-spatial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Spatial Viz</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../bw/exam2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Food Consumption 2</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">In-class Activities</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-uni.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Univariate Viz</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-bi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Bivariate Viz</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-multi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Multivariate Viz</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-spatial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Spatial Viz</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-wrang.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Wrangling</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-dates.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Dates</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-imp.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Data Import</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-reshape.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Reshaping</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-join.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Joining</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-factor.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Factors</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-strings.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Strings</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ica/ica-effective.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Effective Viz</span></span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li>
<a href="#review" id="toc-review" class="nav-link active" data-scroll-target="#review"><span class="header-section-number">12.1</span> Review</a>
  <ul class="collapse">
<li><a href="#data-science-process" id="toc-data-science-process" class="nav-link" data-scroll-target="#data-science-process">Data Science Process</a></li>
  <li><a href="#example-1-single-verb" id="toc-example-1-single-verb" class="nav-link" data-scroll-target="#example-1-single-verb">Example 1: Single Verb</a></li>
  <li><a href="#example-2-multiple-verbs" id="toc-example-2-multiple-verbs" class="nav-link" data-scroll-target="#example-2-multiple-verbs">Example 2: Multiple Verbs</a></li>
  <li><a href="#example-3-interpret-code" id="toc-example-3-interpret-code" class="nav-link" data-scroll-target="#example-3-interpret-code">Example 3: Interpret Code</a></li>
  </ul>
</li>
  <li>
<a href="#exercises-part-1-same-verbs-new-tricks" id="toc-exercises-part-1-same-verbs-new-tricks" class="nav-link" data-scroll-target="#exercises-part-1-same-verbs-new-tricks"><span class="header-section-number">12.2</span> Exercises Part 1: Same Verbs, New Tricks</a>
  <ul class="collapse">
<li><a href="#exercise-1-more-filtering" id="toc-exercise-1-more-filtering" class="nav-link" data-scroll-target="#exercise-1-more-filtering">Exercise 1: More Filtering</a></li>
  <li><a href="#exercise-2-more-selecting" id="toc-exercise-2-more-selecting" class="nav-link" data-scroll-target="#exercise-2-more-selecting">Exercise 2: More Selecting</a></li>
  <li><a href="#exercise-3-arranging-counting-grouping-by-multiple-variables" id="toc-exercise-3-arranging-counting-grouping-by-multiple-variables" class="nav-link" data-scroll-target="#exercise-3-arranging-counting-grouping-by-multiple-variables">Exercise 3: Arranging, Counting, &amp; Grouping by Multiple Variables</a></li>
  <li><a href="#exercise-4-dates" id="toc-exercise-4-dates" class="nav-link" data-scroll-target="#exercise-4-dates">Exercise 4: Dates</a></li>
  </ul>
</li>
  <li>
<a href="#exercises-part-2-application" id="toc-exercises-part-2-application" class="nav-link" data-scroll-target="#exercises-part-2-application"><span class="header-section-number">12.3</span> Exercises Part 2: Application</a>
  <ul class="collapse">
<li><a href="#exercise-5-warming-up" id="toc-exercise-5-warming-up" class="nav-link" data-scroll-target="#exercise-5-warming-up">Exercise 5: Warming up</a></li>
  <li><a href="#exercise-6-homework-reprise" id="toc-exercise-6-homework-reprise" class="nav-link" data-scroll-target="#exercise-6-homework-reprise">Exercise 6: Homework Reprise</a></li>
  <li><a href="#exercise-7-wrangle-plot" id="toc-exercise-7-wrangle-plot" class="nav-link" data-scroll-target="#exercise-7-wrangle-plot">Exercise 7: Wrangle &amp; Plot</a></li>
  <li><a href="#exercise-8-more-practice" id="toc-exercise-8-more-practice" class="nav-link" data-scroll-target="#exercise-8-more-practice">Exercise 8: More Practice</a></li>
  </ul>
</li>
  <li>
<a href="#solutions" id="toc-solutions" class="nav-link" data-scroll-target="#solutions"><span class="header-section-number">12.4</span> Solutions</a>
  <ul class="collapse">
<li><a href="#example-1-single-verb-1" id="toc-example-1-single-verb-1" class="nav-link" data-scroll-target="#example-1-single-verb-1">Example 1: Single Verb</a></li>
  <li><a href="#example-2-multiple-verbs-1" id="toc-example-2-multiple-verbs-1" class="nav-link" data-scroll-target="#example-2-multiple-verbs-1">Example 2: Multiple Verbs</a></li>
  <li><a href="#example-3-interpret-code-1" id="toc-example-3-interpret-code-1" class="nav-link" data-scroll-target="#example-3-interpret-code-1">Example 3: Interpret Code</a></li>
  <li><a href="#exercise-1-more-filtering-1" id="toc-exercise-1-more-filtering-1" class="nav-link" data-scroll-target="#exercise-1-more-filtering-1">Exercise 1: More Filtering</a></li>
  <li><a href="#exercise-2-more-selecting-1" id="toc-exercise-2-more-selecting-1" class="nav-link" data-scroll-target="#exercise-2-more-selecting-1">Exercise 2: More selecting</a></li>
  <li><a href="#exercise-3-arranging-counting-grouping-by-multiple-variables-1" id="toc-exercise-3-arranging-counting-grouping-by-multiple-variables-1" class="nav-link" data-scroll-target="#exercise-3-arranging-counting-grouping-by-multiple-variables-1">Exercise 3: Arranging, counting, &amp; grouping by multiple variables</a></li>
  <li><a href="#exercise-4-dates-1" id="toc-exercise-4-dates-1" class="nav-link" data-scroll-target="#exercise-4-dates-1">Exercise 4: Dates</a></li>
  </ul>
</li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../ica/ica-uni.html">In-class Activities</a></li><li class="breadcrumb-item"><a href="../ica/ica-dates.html"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Dates</span></a></li></ol></nav><div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">
<span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Dates</span>
</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><div class="callout callout-style-default callout-caution callout-titled" title="Learning Goals">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Learning Goals
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Review wrangling verbs <code>select</code>, <code>mutate</code>, <code>filter</code>, <code>arrange</code>, <code>summarize</code>, <code>group_by</code>
</li>
<li>Form conceptual understanding of code without running it</li>
<li>Practice using wrangling verbs in different way</li>
<li>Practice dealing with dates using <code>lubridate</code> functions</li>
</ul>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled" title="Additional Resources">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Additional Resources
</div>
</div>
<div class="callout-body-container callout-body">
<p>For more information about the topics covered in this chapter, refer to the resources below:</p>
<ul>
<li>
<a href="https://r4ds.hadley.nz/datetimes">Date and Times (html)</a> by Wickham, Çetinkaya-Rundel, &amp; Grolemund</li>
</ul>
</div>
</div>
<section id="review" class="level2" data-number="12.1"><h2 data-number="12.1" class="anchored" data-anchor-id="review">
<span class="header-section-number">12.1</span> Review</h2>
<section id="data-science-process" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="data-science-process">Data Science Process</h3>
<p>Below is the visual representation of the data science process we saw earlier. Which stage are we in currently?</p>
<p><img src="https://mac-stat.github.io/images/112/legos.png" class="img-fluid"></p>
<p>Recall that wrangling is important. It is much of what we spend our efforts on in Data Science. There are lots of steps, hence R functions, that can go into data wrangling. But we can get far with the following 6 <em>wrangling verbs</em>:</p>
<table class="caption-top table">
<thead><tr class="header">
<th style="text-align: left;">verb</th>
<th style="text-align: left;">action</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>arrange</code></td>
<td style="text-align: left;">
<strong>arrange</strong> the <em>rows</em> according to some <em>column</em>
</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>filter</code></td>
<td style="text-align: left;">
<strong>filter</strong> out or obtain a subset of the <em>rows</em>
</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>select</code></td>
<td style="text-align: left;">
<strong>select</strong> a subset of <em>columns</em>
</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>mutate</code></td>
<td style="text-align: left;">
<strong>mutate</strong> or create a <em>column</em>
</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>summarize</code></td>
<td style="text-align: left;">calculate a numerical <strong>summary</strong> of a <em>column</em>
</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>group_by</code></td>
<td style="text-align: left;">
<strong>group</strong> the <em>rows</em> by a specified <em>column</em>
</td>
</tr>
</tbody>
</table></section><section id="example-1-single-verb" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="example-1-single-verb">Example 1: Single Verb</h3>
<p>Let’s start by working with some TidyTuesday data on penguins. This data includes information about penguins’ flippers (“arms”) and bills (“mouths” or “beaks”). Let’s import this using <code>read_csv()</code>, a function in the <code>tidyverse</code> package. For the most part, this is similar to <code><a href="https://rdrr.io/r/utils/read.table.html">read.csv()</a></code>, though <code>read_csv()</code> can be more efficient at importing large datasets.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2"></a>penguins <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">'https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-07-28/penguins.csv'</span>)</span>
<span id="cb1-3"><a href="#cb1-3"></a></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="co"># Check it out</span></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="fu">head</span>(penguins)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
  species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
  &lt;chr&gt;   &lt;chr&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt;
1 Adelie  Torgersen           39.1          18.7               181        3750
2 Adelie  Torgersen           39.5          17.4               186        3800
3 Adelie  Torgersen           40.3          18                 195        3250
4 Adelie  Torgersen           NA            NA                  NA          NA
5 Adelie  Torgersen           36.7          19.3               193        3450
6 Adelie  Torgersen           39.3          20.6               190        3650
# ℹ 2 more variables: sex &lt;chr&gt;, year &lt;dbl&gt;</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled" title="Check Understanding">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Check Understanding
</div>
</div>
<div class="callout-body-container callout-body">
<p>Construct a plot that allows us to examine how the relationship between body mass and bill length varies by species and sex.</p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(<span class="at">x=</span>body_mass_g, <span class="at">y=</span>bill_length_mm, <span class="at">color=</span>species)) <span class="sc">+</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb3-3"><a href="#cb3-3"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-dates_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled" title="Check Understanding">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Check Understanding
</div>
</div>
<div class="callout-body-container callout-body">
<p>Use the 6 wrangling verbs to address each task in the code chunk below. You can tack on <code>|&gt; head()</code> to print out just 6 rows to keep your rendered document manageable. Most of these require just 1 verb.</p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># Get data on only Adelie penguins that weigh more than 4700g</span></span>
<span id="cb4-2"><a href="#cb4-2"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb4-3"><a href="#cb4-3"></a>  <span class="fu">filter</span>(species<span class="sc">==</span><span class="st">"Adelie"</span>, body_mass_g<span class="sc">&gt;</span><span class="dv">4700</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-4"><a href="#cb4-4"></a>  <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 8
  species island bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
  &lt;chr&gt;   &lt;chr&gt;           &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt;
1 Adelie  Biscoe           41              20               203        4725
2 Adelie  Biscoe           43.2            19               197        4775
# ℹ 2 more variables: sex &lt;chr&gt;, year &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="co"># Get data on penguin body mass only</span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="co"># Show just the first 6 rows</span></span>
<span id="cb6-3"><a href="#cb6-3"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb6-4"><a href="#cb6-4"></a>  <span class="fu">select</span>(body_mass_g) <span class="sc">|&gt;</span></span>
<span id="cb6-5"><a href="#cb6-5"></a>  <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 1
  body_mass_g
        &lt;dbl&gt;
1        3750
2        3800
3        3250
4          NA
5        3450
6        3650</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="co"># Sort the penguins from smallest to largest body mass</span></span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="co"># Show just the first 6 rows</span></span>
<span id="cb8-3"><a href="#cb8-3"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb8-4"><a href="#cb8-4"></a>  <span class="fu">arrange</span>(body_mass_g) <span class="sc">|&gt;</span></span>
<span id="cb8-5"><a href="#cb8-5"></a>  <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
  species   island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
  &lt;chr&gt;     &lt;chr&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt;
1 Chinstrap Dream               46.9          16.6               192        2700
2 Adelie    Biscoe              36.5          16.6               181        2850
3 Adelie    Biscoe              36.4          17.1               184        2850
4 Adelie    Biscoe              34.5          18.1               187        2900
5 Adelie    Dream               33.1          16.1               178        2900
6 Adelie    Torgersen           38.6          17                 188        2900
# ℹ 2 more variables: sex &lt;chr&gt;, year &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="co"># Calculate the average body mass across all penguins</span></span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="co"># Note: na.rm = TRUE removes the NAs from the calculation</span></span>
<span id="cb10-3"><a href="#cb10-3"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb10-4"><a href="#cb10-4"></a>  <span class="fu">summarize</span>(<span class="fu">mean</span>(body_mass_g, <span class="at">na.rm=</span><span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  `mean(body_mass_g, na.rm = TRUE)`
                              &lt;dbl&gt;
1                             4202.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="co"># Calculate the average body mass by species</span></span>
<span id="cb12-2"><a href="#cb12-2"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb12-3"><a href="#cb12-3"></a>  <span class="fu">group_by</span>(species) <span class="sc">|&gt;</span></span>
<span id="cb12-4"><a href="#cb12-4"></a>  <span class="fu">summarize</span>(<span class="at">mean_mass=</span><span class="fu">mean</span>(body_mass_g, <span class="at">na.rm=</span><span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  species   mean_mass
  &lt;chr&gt;         &lt;dbl&gt;
1 Adelie        3701.
2 Chinstrap     3733.
3 Gentoo        5076.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="co"># Create a new column that records body mass in kilograms, not grams</span></span>
<span id="cb14-2"><a href="#cb14-2"></a><span class="co"># </span><span class="al">NOTE</span><span class="co">: there are 1000 g in 1 kg</span></span>
<span id="cb14-3"><a href="#cb14-3"></a><span class="co"># Show just the first 6 rows</span></span>
<span id="cb14-4"><a href="#cb14-4"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb14-5"><a href="#cb14-5"></a>  <span class="fu">mutate</span>(<span class="at">body_mass_kg=</span>(body_mass_g<span class="sc">/</span><span class="dv">1000</span>)) <span class="sc">|&gt;</span></span>
<span id="cb14-6"><a href="#cb14-6"></a>  <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 9
  species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
  &lt;chr&gt;   &lt;chr&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt;
1 Adelie  Torgersen           39.1          18.7               181        3750
2 Adelie  Torgersen           39.5          17.4               186        3800
3 Adelie  Torgersen           40.3          18                 195        3250
4 Adelie  Torgersen           NA            NA                  NA          NA
5 Adelie  Torgersen           36.7          19.3               193        3450
6 Adelie  Torgersen           39.3          20.6               190        3650
# ℹ 3 more variables: sex &lt;chr&gt;, year &lt;dbl&gt;, body_mass_kg &lt;dbl&gt;</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled" title="Check Understanding">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Check Understanding
</div>
</div>
<div class="callout-body-container callout-body">
<p>How many penguins of each species do we have? Create a viz that addresses this question.</p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(<span class="at">x =</span> species)) <span class="sc">+</span></span>
<span id="cb16-2"><a href="#cb16-2"></a>  <span class="fu">geom_bar</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-dates_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled" title="Check Understanding">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Check Understanding
</div>
</div>
<div class="callout-body-container callout-body">
<p>Can we use the 6 verbs to calculate exactly how many penguins in each species?</p>
<p>HINT: <code>n()</code> calculates group size.</p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb17-2"><a href="#cb17-2"></a>  <span class="fu">group_by</span>(species) <span class="sc">|&gt;</span></span>
<span id="cb17-3"><a href="#cb17-3"></a>  <span class="fu">summarize</span>(<span class="fu">n</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  species   `n()`
  &lt;chr&gt;     &lt;int&gt;
1 Adelie      152
2 Chinstrap    68
3 Gentoo      124</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="`count` verb">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code>count</code> verb
</div>
</div>
<div class="callout-body-container callout-body">
<p>The <code>count()</code> verb provides a handy shortcut!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb19-2"><a href="#cb19-2"></a>  <span class="fu">count</span>(species)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  species       n
  &lt;chr&gt;     &lt;int&gt;
1 Adelie      152
2 Chinstrap    68
3 Gentoo      124</code></pre>
</div>
</div>
</div>
</div>
</section><section id="example-2-multiple-verbs" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="example-2-multiple-verbs">Example 2: Multiple Verbs</h3>
<div class="callout callout-style-default callout-warning callout-titled" title="Check Understanding">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Check Understanding
</div>
</div>
<div class="callout-body-container callout-body">
<p>Let’s practice <em>combining</em> some verbs. For each task:</p>
<ul>
<li>Translate the prompt into our 6 verbs. That is, think before you type.</li>
<li>Build your code line by line. It’s important to understand what’s being piped into each function!</li>
<li>Ask what you can rearrange and still get the same result.</li>
<li>Read your final code like a paragraph / a conversation. Would another person be able to follow your logic?</li>
</ul>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="co"># Sort Gentoo penguins from biggest to smallest with respect to their </span></span>
<span id="cb21-2"><a href="#cb21-2"></a><span class="co"># bill length in cm (there are 10 mm in a cm)</span></span>
<span id="cb21-3"><a href="#cb21-3"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb21-4"><a href="#cb21-4"></a>  <span class="fu">filter</span>(species<span class="sc">==</span><span class="st">"Gentoo"</span>) <span class="sc">|&gt;</span></span>
<span id="cb21-5"><a href="#cb21-5"></a>  <span class="fu">mutate</span>(<span class="at">bill_length_cm=</span>(bill_length_mm<span class="sc">/</span><span class="dv">10</span>)) <span class="sc">|&gt;</span></span>
<span id="cb21-6"><a href="#cb21-6"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(bill_length_cm))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 124 × 9
   species island bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
   &lt;chr&gt;   &lt;chr&gt;           &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt;
 1 Gentoo  Biscoe           59.6          17                 230        6050
 2 Gentoo  Biscoe           55.9          17                 228        5600
 3 Gentoo  Biscoe           55.1          16                 230        5850
 4 Gentoo  Biscoe           54.3          15.7               231        5650
 5 Gentoo  Biscoe           53.4          15.8               219        5500
 6 Gentoo  Biscoe           52.5          15.6               221        5450
 7 Gentoo  Biscoe           52.2          17.1               228        5400
 8 Gentoo  Biscoe           52.1          17                 230        5550
 9 Gentoo  Biscoe           51.5          16.3               230        5500
10 Gentoo  Biscoe           51.3          14.2               218        5300
# ℹ 114 more rows
# ℹ 3 more variables: sex &lt;chr&gt;, year &lt;dbl&gt;, bill_length_cm &lt;dbl&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="co"># Sort the species from smallest to biggest with respect to their </span></span>
<span id="cb23-2"><a href="#cb23-2"></a><span class="co"># average bill length in cm</span></span>
<span id="cb23-3"><a href="#cb23-3"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb23-4"><a href="#cb23-4"></a>  <span class="fu">mutate</span>(<span class="at">bill_length_cm=</span>(bill_length_mm<span class="sc">/</span><span class="dv">10</span>)) <span class="sc">|&gt;</span></span>
<span id="cb23-5"><a href="#cb23-5"></a>  <span class="fu">group_by</span>(species) <span class="sc">|&gt;</span></span>
<span id="cb23-6"><a href="#cb23-6"></a>  <span class="fu">summarize</span>(<span class="at">mean_length=</span><span class="fu">mean</span>(bill_length_cm,<span class="at">na.rm=</span><span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb23-7"><a href="#cb23-7"></a>  <span class="fu">arrange</span>(mean_length)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  species   mean_length
  &lt;chr&gt;           &lt;dbl&gt;
1 Adelie           3.88
2 Gentoo           4.75
3 Chinstrap        4.88</code></pre>
</div>
</div>
</section><section id="example-3-interpret-code" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="example-3-interpret-code">Example 3: Interpret Code</h3>
<p>Let’s practice reading and making sense of somebody <em>else</em>’s code. What do you think this produces?</p>
<ul>
<li>How many columns? Rows?</li>
<li>What are the column names?</li>
<li>What’s represented in each row?</li>
</ul>
<p>Once you’ve thought about it, put the code inside a chunk and run it!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">"Chinstrap"</span>) <span class="sc">|&gt;</span> <span class="fu">group_by</span>(sex) <span class="sc">|&gt;</span> <span class="fu">summarize</span>(<span class="at">min =</span> <span class="fu">min</span>(body_mass_g), <span class="at">max =</span> <span class="fu">max</span>(body_mass_g)) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">range =</span> max <span class="sc">-</span> min)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 4
  sex      min   max range
  &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1 female  2700  4150  1450
2 male    3250  4800  1550</code></pre>
</div>
</div>
<p><br><br><br><br></p>
</section></section><section id="exercises-part-1-same-verbs-new-tricks" class="level2" data-number="12.2"><h2 data-number="12.2" class="anchored" data-anchor-id="exercises-part-1-same-verbs-new-tricks">
<span class="header-section-number">12.2</span> Exercises Part 1: Same Verbs, New Tricks</h2>
<section id="exercise-1-more-filtering" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="exercise-1-more-filtering">Exercise 1: More Filtering</h3>
<p>Recall the “logical comparison operators” we can use to <code><a href="https://rdrr.io/r/stats/filter.html">filter()</a></code> our data:</p>
<table class="caption-top table">
<thead><tr class="header">
<th style="text-align: left;">symbol</th>
<th style="text-align: left;">meaning</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>==</code></td>
<td style="text-align: left;">equal to</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>!=</code></td>
<td style="text-align: left;">not equal to</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>&gt;</code></td>
<td style="text-align: left;">greater than</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>&gt;=</code></td>
<td style="text-align: left;">greater than or equal to</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>&lt;</code></td>
<td style="text-align: left;">less than</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>&lt;=</code></td>
<td style="text-align: left;">less than or equal to</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>%in% c(***, ***)</code></td>
<td style="text-align: left;">a list of multiple values</td>
</tr>
</tbody>
</table>
<section id="part-a" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="part-a">Part a</h4>
<div class="callout callout-style-default callout-tip callout-titled" title="Commenting/Uncommenting Code">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Commenting/Uncommenting Code
</div>
</div>
<div class="callout-body-container callout-body">
<p>To comment/uncomment several lines of code at once, highlight them then click <kbd>ctrl/cmd</kbd>+<kbd>shift</kbd>+<kbd>c</kbd>.</p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a><span class="co"># Create a dataset with just Adelie and Chinstrap using %in%</span></span>
<span id="cb27-2"><a href="#cb27-2"></a><span class="co"># Pipe this into `count(species)` to confirm that you only have these 2 species</span></span>
<span id="cb27-3"><a href="#cb27-3"></a> penguins <span class="sc">|&gt;</span> </span>
<span id="cb27-4"><a href="#cb27-4"></a>   <span class="fu">filter</span>(species <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Adelie"</span>,<span class="st">"Chinstrap"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb27-5"><a href="#cb27-5"></a>   <span class="fu">count</span>(species)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  species       n
  &lt;chr&gt;     &lt;int&gt;
1 Adelie      152
2 Chinstrap    68</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a><span class="co"># Create a dataset with just Adelie and Chinstrap using !=</span></span>
<span id="cb29-2"><a href="#cb29-2"></a><span class="co"># Pipe this into `count(species)` to confirm that you only have these 2 species</span></span>
<span id="cb29-3"><a href="#cb29-3"></a> penguins <span class="sc">|&gt;</span> </span>
<span id="cb29-4"><a href="#cb29-4"></a>   <span class="fu">filter</span>(species<span class="sc">!=</span><span class="st">"Gentoo"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb29-5"><a href="#cb29-5"></a>   <span class="fu">count</span>(species)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  species       n
  &lt;chr&gt;     &lt;int&gt;
1 Adelie      152
2 Chinstrap    68</code></pre>
</div>
</div>
</section><section id="part-b" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="part-b">Part b</h4>
<p>Notice that some of our penguins have missing (<code>NA</code>) data on some values:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a><span class="fu">head</span>(penguins)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
  species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
  &lt;chr&gt;   &lt;chr&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt;
1 Adelie  Torgersen           39.1          18.7               181        3750
2 Adelie  Torgersen           39.5          17.4               186        3800
3 Adelie  Torgersen           40.3          18                 195        3250
4 Adelie  Torgersen           NA            NA                  NA          NA
5 Adelie  Torgersen           36.7          19.3               193        3450
6 Adelie  Torgersen           39.3          20.6               190        3650
# ℹ 2 more variables: sex &lt;chr&gt;, year &lt;dbl&gt;</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Handeling `NA` Values">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Handeling <code>NA</code> Values
</div>
</div>
<div class="callout-body-container callout-body">
<p>There are many ways to handle missing data. The right approach depends upon your research goals. A general rule is: Only get rid of observations with missing data if they’re missing data on variables you <em>need</em> for the specific task at hand!</p>
</div>
</div>
<p><strong>Example 1</strong></p>
<p>Suppose our research focus is <em>just</em> on <code>body_mass_g</code>. Two penguins are missing this info:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a><span class="co"># </span><span class="al">NOTE</span><span class="co"> the use of is.na()</span></span>
<span id="cb33-2"><a href="#cb33-2"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb33-3"><a href="#cb33-3"></a>  <span class="fu">summarize</span>(<span class="fu">sum</span>(<span class="fu">is.na</span>(body_mass_g)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  `sum(is.na(body_mass_g))`
                      &lt;int&gt;
1                         2</code></pre>
</div>
</div>
<p>Let’s define a new dataset that removes these penguins:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a><span class="co"># </span><span class="al">NOTE</span><span class="co"> the use of is.na()</span></span>
<span id="cb35-2"><a href="#cb35-2"></a>penguins_w_body_mass <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> </span>
<span id="cb35-3"><a href="#cb35-3"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(body_mass_g))</span>
<span id="cb35-4"><a href="#cb35-4"></a></span>
<span id="cb35-5"><a href="#cb35-5"></a><span class="co"># Compare the number of penguins in this vs the original data</span></span>
<span id="cb35-6"><a href="#cb35-6"></a><span class="fu">nrow</span>(penguins_w_body_mass)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 342</code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a><span class="fu">nrow</span>(penguins)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 344</code></pre>
</div>
</div>
<p>Note that some penguins in <code>penguins_w_body_mass</code> are missing info on <code>sex</code>, but we don’t care since that’s not related to our research question:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a>penguins_w_body_mass <span class="sc">|&gt;</span> </span>
<span id="cb39-2"><a href="#cb39-2"></a>  <span class="fu">summarize</span>(<span class="fu">sum</span>(<span class="fu">is.na</span>(sex)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  `sum(is.na(sex))`
              &lt;int&gt;
1                 9</code></pre>
</div>
</div>
<p><strong>Example 2</strong></p>
<p>In the <em>very rare case</em> that we need complete information on every variable for the specific task at hand, we can use <code><a href="https://rdrr.io/r/stats/na.fail.html">na.omit()</a></code> to get rid of <em>any</em> penguin that’s missing info on <em>any</em> variable:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a>penguins_complete <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> </span>
<span id="cb41-2"><a href="#cb41-2"></a>  <span class="fu">na.omit</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>How many penguins did this eliminate?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a><span class="fu">nrow</span>(penguins_complete)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 333</code></pre>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a><span class="fu">nrow</span>(penguins)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 344</code></pre>
</div>
</div>
</section><section id="part-c" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="part-c">Part c</h4>
<p>Explain why we should only use <code><a href="https://rdrr.io/r/stats/na.fail.html">na.omit()</a></code> in extreme circumstances.</p>
<p>&nbsp;Because it can dramatically cut down the amount of data we have, and remove crucial points, even if the places where the NA are are not relevant to analysis<br><br><br></p>
</section></section><section id="exercise-2-more-selecting" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="exercise-2-more-selecting">Exercise 2: More Selecting</h3>
<p>Being able to <code>select()</code> only certain columns can help simplify our data. This is especially important when we’re working with <em>lots</em> of columns (which we haven’t done yet). It can also get tedious to type out every column of interest. Here are some shortcuts:</p>
<ul>
<li>
<code>-</code> <em>removes</em> a given variable and keeps all others (e.g.&nbsp;<code>select(-island)</code>)</li>
<li>
<code>starts_with("___")</code>, <code>ends_with("___")</code>, or <code>contains("___")</code> selects only the columns that either start with, end with, or simply contain the given string of characters</li>
</ul>
<p>Use these <em>shortcuts</em> to create the following datasets.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a><span class="co"># First: recall the variable names</span></span>
<span id="cb46-2"><a href="#cb46-2"></a><span class="fu">names</span>(penguins)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "species"           "island"            "bill_length_mm"   
[4] "bill_depth_mm"     "flipper_length_mm" "body_mass_g"      
[7] "sex"               "year"             </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a><span class="co"># Use a shortcut to keep everything but the year and island variables</span></span>
<span id="cb48-2"><a href="#cb48-2"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb48-3"><a href="#cb48-3"></a>  <span class="fu">select</span>(<span class="sc">-</span>island,<span class="sc">-</span>year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 344 × 6
   species bill_length_mm bill_depth_mm flipper_length_mm body_mass_g sex   
   &lt;chr&gt;            &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt; 
 1 Adelie            39.1          18.7               181        3750 male  
 2 Adelie            39.5          17.4               186        3800 female
 3 Adelie            40.3          18                 195        3250 female
 4 Adelie            NA            NA                  NA          NA &lt;NA&gt;  
 5 Adelie            36.7          19.3               193        3450 female
 6 Adelie            39.3          20.6               190        3650 male  
 7 Adelie            38.9          17.8               181        3625 female
 8 Adelie            39.2          19.6               195        4675 male  
 9 Adelie            34.1          18.1               193        3475 &lt;NA&gt;  
10 Adelie            42            20.2               190        4250 &lt;NA&gt;  
# ℹ 334 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1"></a><span class="co"># Use a shortcut to keep only species and the penguin characteristics measured in mm</span></span>
<span id="cb50-2"><a href="#cb50-2"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb50-3"><a href="#cb50-3"></a>  <span class="fu">select</span>(species,<span class="fu">ends_with</span>(<span class="st">"mm"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 344 × 4
   species bill_length_mm bill_depth_mm flipper_length_mm
   &lt;chr&gt;            &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;
 1 Adelie            39.1          18.7               181
 2 Adelie            39.5          17.4               186
 3 Adelie            40.3          18                 195
 4 Adelie            NA            NA                  NA
 5 Adelie            36.7          19.3               193
 6 Adelie            39.3          20.6               190
 7 Adelie            38.9          17.8               181
 8 Adelie            39.2          19.6               195
 9 Adelie            34.1          18.1               193
10 Adelie            42            20.2               190
# ℹ 334 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1"></a><span class="co"># Use a shortcut to keep only species and bill-related measurements</span></span>
<span id="cb52-2"><a href="#cb52-2"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb52-3"><a href="#cb52-3"></a>  <span class="fu">select</span>(species,<span class="fu">starts_with</span>(<span class="st">"bill"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 344 × 3
   species bill_length_mm bill_depth_mm
   &lt;chr&gt;            &lt;dbl&gt;         &lt;dbl&gt;
 1 Adelie            39.1          18.7
 2 Adelie            39.5          17.4
 3 Adelie            40.3          18  
 4 Adelie            NA            NA  
 5 Adelie            36.7          19.3
 6 Adelie            39.3          20.6
 7 Adelie            38.9          17.8
 8 Adelie            39.2          19.6
 9 Adelie            34.1          18.1
10 Adelie            42            20.2
# ℹ 334 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a><span class="co"># Use a shortcut to keep only species and the length-related characteristics</span></span>
<span id="cb54-2"><a href="#cb54-2"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb54-3"><a href="#cb54-3"></a>  <span class="fu">select</span>(species,<span class="fu">contains</span>(<span class="st">"length"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 344 × 3
   species bill_length_mm flipper_length_mm
   &lt;chr&gt;            &lt;dbl&gt;             &lt;dbl&gt;
 1 Adelie            39.1               181
 2 Adelie            39.5               186
 3 Adelie            40.3               195
 4 Adelie            NA                  NA
 5 Adelie            36.7               193
 6 Adelie            39.3               190
 7 Adelie            38.9               181
 8 Adelie            39.2               195
 9 Adelie            34.1               193
10 Adelie            42                 190
# ℹ 334 more rows</code></pre>
</div>
</div>
<p><br><br><br><br></p>
</section><section id="exercise-3-arranging-counting-grouping-by-multiple-variables" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="exercise-3-arranging-counting-grouping-by-multiple-variables">Exercise 3: Arranging, Counting, &amp; Grouping by Multiple Variables</h3>
<p>We’ve done examples where we need to <code><a href="https://rdrr.io/r/stats/filter.html">filter()</a></code> by more than one variable, or <code>select()</code> more than one variable. Use your intuition for how we can <code>arrange()</code>, <code>count()</code>, and <code>group_by()</code> more than one variable.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1"></a><span class="co"># Change this code to sort the penguins by species, and then island name</span></span>
<span id="cb56-2"><a href="#cb56-2"></a><span class="co"># </span><span class="al">NOTE</span><span class="co">: The first row should be an Adelie penguin living on Biscoe island</span></span>
<span id="cb56-3"><a href="#cb56-3"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb56-4"><a href="#cb56-4"></a>  <span class="fu">arrange</span>(species,island)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 344 × 8
   species island bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
   &lt;chr&gt;   &lt;chr&gt;           &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt;
 1 Adelie  Biscoe           37.8          18.3               174        3400
 2 Adelie  Biscoe           37.7          18.7               180        3600
 3 Adelie  Biscoe           35.9          19.2               189        3800
 4 Adelie  Biscoe           38.2          18.1               185        3950
 5 Adelie  Biscoe           38.8          17.2               180        3800
 6 Adelie  Biscoe           35.3          18.9               187        3800
 7 Adelie  Biscoe           40.6          18.6               183        3550
 8 Adelie  Biscoe           40.5          17.9               187        3200
 9 Adelie  Biscoe           37.9          18.6               172        3150
10 Adelie  Biscoe           40.5          18.9               180        3950
# ℹ 334 more rows
# ℹ 2 more variables: sex &lt;chr&gt;, year &lt;dbl&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a><span class="co"># Change this code to count the number of male/female penguins observed for each species</span></span>
<span id="cb58-2"><a href="#cb58-2"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb58-3"><a href="#cb58-3"></a>  <span class="fu">count</span>(species, sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 3
  species   sex        n
  &lt;chr&gt;     &lt;chr&gt;  &lt;int&gt;
1 Adelie    female    73
2 Adelie    male      73
3 Adelie    &lt;NA&gt;       6
4 Chinstrap female    34
5 Chinstrap male      34
6 Gentoo    female    58
7 Gentoo    male      61
8 Gentoo    &lt;NA&gt;       5</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1"></a><span class="co"># Change this code to calculate the average body mass by species and sex</span></span>
<span id="cb60-2"><a href="#cb60-2"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb60-3"><a href="#cb60-3"></a>  <span class="fu">group_by</span>(species, sex) <span class="sc">|&gt;</span> </span>
<span id="cb60-4"><a href="#cb60-4"></a>  <span class="fu">summarize</span>(<span class="at">mean =</span> <span class="fu">mean</span>(body_mass_g, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 3
# Groups:   species [3]
  species   sex     mean
  &lt;chr&gt;     &lt;chr&gt;  &lt;dbl&gt;
1 Adelie    female 3369.
2 Adelie    male   4043.
3 Adelie    &lt;NA&gt;   3540 
4 Chinstrap female 3527.
5 Chinstrap male   3939.
6 Gentoo    female 4680.
7 Gentoo    male   5485.
8 Gentoo    &lt;NA&gt;   4588.</code></pre>
</div>
</div>
<p><br><br><br><br></p>
</section><section id="exercise-4-dates" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="exercise-4-dates">Exercise 4: Dates</h3>
<p>Before some wrangling practice, let’s explore another important concept: working with or mutating <em>date</em> variables. Dates are a whole special object type or class in R that automatically respect the order of time.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1"></a><span class="co"># Get today's date</span></span>
<span id="cb62-2"><a href="#cb62-2"></a><span class="fu">as.Date</span>(<span class="fu">today</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2025-03-26"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1"></a><span class="co"># Let's store this as "today" so we can work with it below</span></span>
<span id="cb64-2"><a href="#cb64-2"></a>today <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="fu">today</span>())</span>
<span id="cb64-3"><a href="#cb64-3"></a></span>
<span id="cb64-4"><a href="#cb64-4"></a><span class="co"># Check out the class of this object</span></span>
<span id="cb64-5"><a href="#cb64-5"></a><span class="fu">class</span>(today)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Date"</code></pre>
</div>
</div>
<p>The <code>lubridate</code> package inside <code>tidyverse</code> contains functions that can extract various information from dates. Let’s learn about some of the most common functions by applying them to <code>today</code>. For each, make a comment on what the function does</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1"></a><span class="fu">year</span>(today)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2025</code></pre>
</div>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1"></a><span class="co">#year() extracts the year from the date, as a number</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1"></a><span class="co"># What do these lines produce / what's their difference?</span></span>
<span id="cb69-2"><a href="#cb69-2"></a><span class="co">#month() extracts the month from a date as a number, while month(label=TRUE) extracts it as a 3 letter abbreviation of the month name, specifically, as an ordinal factor</span></span>
<span id="cb69-3"><a href="#cb69-3"></a><span class="fu">month</span>(today)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1"></a><span class="fu">month</span>(today, <span class="at">label =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] Mar
12 Levels: Jan &lt; Feb &lt; Mar &lt; Apr &lt; May &lt; Jun &lt; Jul &lt; Aug &lt; Sep &lt; ... &lt; Dec</code></pre>
</div>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1"></a><span class="fu">month</span>(today, <span class="at">label =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> <span class="fu">class</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "ordered" "factor" </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1"></a><span class="co"># What does this number mean?</span></span>
<span id="cb75-2"><a href="#cb75-2"></a><span class="co">#week() records how many weeks have passed in the year, but it conflicts with things like a googled ISO recording of week number, which counts any week that at least includes thursday. it may only count "full" weeks starting on sunday.</span></span>
<span id="cb75-3"><a href="#cb75-3"></a><span class="fu">week</span>(today)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 13</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1"></a><span class="co"># What do these lines produce / what's their difference?</span></span>
<span id="cb77-2"><a href="#cb77-2"></a><span class="co">#mday() extracts the day of the month, and yday() extracts the day of the year</span></span>
<span id="cb77-3"><a href="#cb77-3"></a><span class="fu">mday</span>(today)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 26</code></pre>
</div>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1"></a><span class="fu">yday</span>(today)  <span class="co"># This is often called the "Julian day"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 85</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1"></a><span class="co"># What do these lines produce / what's their difference?</span></span>
<span id="cb81-2"><a href="#cb81-2"></a><span class="co">#wday() extracts the number of the day of the week, if we consider a week as starting on sunday, while wday(label=TRUE) extracts the day of the week as a 3 letter abbreviation, again an ordinal factor</span></span>
<span id="cb81-3"><a href="#cb81-3"></a><span class="fu">wday</span>(today)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1"></a><span class="fu">wday</span>(today, <span class="at">label =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] Wed
Levels: Sun &lt; Mon &lt; Tue &lt; Wed &lt; Thu &lt; Fri &lt; Sat</code></pre>
</div>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1"></a><span class="fu">wday</span>(today, <span class="at">label =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> <span class="fu">class</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "ordered" "factor" </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1"></a><span class="co"># What do the results of these 2 lines tell us?</span></span>
<span id="cb87-2"><a href="#cb87-2"></a><span class="co">#that dates are considered greater than eachother if they come after eachother</span></span>
<span id="cb87-3"><a href="#cb87-3"></a>today <span class="sc">&gt;=</span> <span class="fu">ymd</span>(<span class="st">"2024-02-14"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1"></a>today <span class="sc">&lt;</span> <span class="fu">ymd</span>(<span class="st">"2024-02-14"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<p><br><br><br><br></p>
</section></section><section id="exercises-part-2-application" class="level2" data-number="12.3"><h2 data-number="12.3" class="anchored" data-anchor-id="exercises-part-2-application">
<span class="header-section-number">12.3</span> Exercises Part 2: Application</h2>
<p>The remaining exercises are <em>similar</em> to some of those on the homework. Hence, the solutions are not provided. Let’s apply these ideas to the daily <code>Birthdays</code> dataset in the <code>mosaic</code> package.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1"></a><span class="fu">library</span>(mosaic)</span>
<span id="cb91-2"><a href="#cb91-2"></a><span class="fu">data</span>(<span class="st">"Birthdays"</span>)</span>
<span id="cb91-3"><a href="#cb91-3"></a><span class="fu">head</span>(Birthdays)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  state year month day       date wday births
1    AK 1969     1   1 1969-01-01  Wed     14
2    AL 1969     1   1 1969-01-01  Wed    174
3    AR 1969     1   1 1969-01-01  Wed     78
4    AZ 1969     1   1 1969-01-01  Wed     84
5    CA 1969     1   1 1969-01-01  Wed    824
6    CO 1969     1   1 1969-01-01  Wed    100</code></pre>
</div>
</div>
<p><code>Birthdays</code> gives the number of births recorded on each day of the year in each state from 1969 to 1988<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>. We can use our wrangling skills to understand some drivers of daily births. Putting these all together can be challenging! Remember the following ways to make tasks more manageable:</p>
<ul>
<li>Translate the prompt into our 6 verbs (and <code>count()</code>). That is, think before you type.</li>
<li>Build your code line by line. It’s important to understand what’s being piped into each function!</li>
</ul>
<section id="exercise-5-warming-up" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="exercise-5-warming-up">Exercise 5: Warming up</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1"></a><span class="co"># How many days of data do we have for each state?</span></span>
<span id="cb93-2"><a href="#cb93-2"></a>Birthdays <span class="sc">|&gt;</span></span>
<span id="cb93-3"><a href="#cb93-3"></a>  <span class="fu">group_by</span>(state) <span class="sc">|&gt;</span></span>
<span id="cb93-4"><a href="#cb93-4"></a>  <span class="fu">count</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 51 × 2
# Groups:   state [51]
   state     n
   &lt;chr&gt; &lt;int&gt;
 1 AK     7306
 2 AL     7312
 3 AR     7310
 4 AZ     7310
 5 CA     7325
 6 CO     7305
 7 CT     7312
 8 DC     7311
 9 DE     7307
10 FL     7307
# ℹ 41 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1"></a><span class="co"># How many total births were there in this time period?</span></span>
<span id="cb95-2"><a href="#cb95-2"></a>Birthdays <span class="sc">|&gt;</span></span>
<span id="cb95-3"><a href="#cb95-3"></a>  <span class="fu">summarize</span>(<span class="fu">sum</span>(births))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  sum(births)
1    70486538</code></pre>
</div>
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1"></a><span class="co"># How many total births were there per state in this time period, sorted from low to high?</span></span>
<span id="cb97-2"><a href="#cb97-2"></a>Birthdays <span class="sc">|&gt;</span></span>
<span id="cb97-3"><a href="#cb97-3"></a>  <span class="fu">group_by</span>(state) <span class="sc">|&gt;</span></span>
<span id="cb97-4"><a href="#cb97-4"></a>  <span class="fu">summarize</span>(<span class="at">total=</span><span class="fu">sum</span>(births)) <span class="sc">|&gt;</span></span>
<span id="cb97-5"><a href="#cb97-5"></a>  <span class="fu">arrange</span>(total)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 51 × 2
   state  total
   &lt;chr&gt;  &lt;int&gt;
 1 VT    147886
 2 WY    154019
 3 AK    185385
 4 DE    188705
 5 SD    235734
 6 ND    238696
 7 NV    241470
 8 MT    253884
 9 NH    264984
10 RI    265038
# ℹ 41 more rows</code></pre>
</div>
</div>
</section><section id="exercise-6-homework-reprise" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="exercise-6-homework-reprise">Exercise 6: Homework Reprise</h3>
<p>Create a new dataset named <code>daily_births</code> that includes the total number of births per day (across all states) and the corresponding day of the week, eg, Mon. NOTE: Name the column with total births so that it’s easier to wrangle and plot.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1"></a>daily_births <span class="ot">&lt;-</span> Birthdays <span class="sc">|&gt;</span></span>
<span id="cb99-2"><a href="#cb99-2"></a>  <span class="fu">group_by</span>(date, wday) <span class="sc">|&gt;</span></span>
<span id="cb99-3"><a href="#cb99-3"></a>  <span class="fu">summarize</span>(<span class="at">usbirths=</span><span class="fu">sum</span>(births))</span>
<span id="cb99-4"><a href="#cb99-4"></a>  daily_births</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7,305 × 3
# Groups:   date [7,305]
   date                wday  usbirths
   &lt;dttm&gt;              &lt;ord&gt;    &lt;int&gt;
 1 1969-01-01 00:00:00 Wed       8486
 2 1969-01-02 00:00:00 Thurs     9002
 3 1969-01-03 00:00:00 Fri       9542
 4 1969-01-04 00:00:00 Sat       8960
 5 1969-01-05 00:00:00 Sun       8390
 6 1969-01-06 00:00:00 Mon       9560
 7 1969-01-07 00:00:00 Tues      9738
 8 1969-01-08 00:00:00 Wed       9734
 9 1969-01-09 00:00:00 Thurs     9434
10 1969-01-10 00:00:00 Fri      10042
# ℹ 7,295 more rows</code></pre>
</div>
</div>
<p>Using this data, construct a plot of <code>births</code> over time, indicating the day of week.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1"></a><span class="fu">ggplot</span>(daily_births, <span class="fu">aes</span>(<span class="at">x=</span>date,<span class="at">y=</span>usbirths,<span class="at">color=</span>wday)) <span class="sc">+</span></span>
<span id="cb101-2"><a href="#cb101-2"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-dates_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section><section id="exercise-7-wrangle-plot" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="exercise-7-wrangle-plot">Exercise 7: Wrangle &amp; Plot</h3>
<p>For each prompt below, you can decide whether you want to: (1) wrangle and store data, then plot; or (2) wrangle data and pipe directly into ggplot. For example:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb102-2"><a href="#cb102-2"></a>  <span class="fu">filter</span>(species <span class="sc">!=</span> <span class="st">"Gentoo"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb102-3"><a href="#cb102-3"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> bill_length_mm, <span class="at">x =</span> bill_depth_mm, <span class="at">color =</span> species)) <span class="sc">+</span> </span>
<span id="cb102-4"><a href="#cb102-4"></a>    <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-dates_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<section id="part-a-1" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="part-a-1">Part a</h4>
<p>Calculate the total number of births in each month and year, eg, Jan 1969, Feb 1969, …. Label month by names not numbers, eg, Jan not 1. Then, plot the births by month and comment on what you learn. ::: {.callout-tip title=“Xtra notes on Dates and (Ordered) Factors”} You can use as.Date() to change character or numeric strings into dates! <del>Still looking on how to combine ordinal factors, though (and change integers thereof?)</del> It’s fairly difficult to combine ordered factors but the forcats package should be of some help. The fct_c() and <em>fct_cross()</em> functions are for just that! https://forcats.tidyverse.org/reference/index.html To actually make the integer year into a ordered factor is a whole other problem, but involves the native r functions factor() or ordered() :::</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1"></a><span class="fu">library</span>(ggridges)</span>
<span id="cb103-2"><a href="#cb103-2"></a>monthly_births <span class="ot">&lt;-</span> Birthdays  <span class="sc">|&gt;</span></span>
<span id="cb103-3"><a href="#cb103-3"></a>  <span class="fu">mutate</span>(<span class="at">mon_lab=</span><span class="fu">month</span>(date, <span class="at">label=</span><span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb103-4"><a href="#cb103-4"></a>  <span class="fu">group_by</span>(year,mon_lab) <span class="sc">|&gt;</span></span>
<span id="cb103-5"><a href="#cb103-5"></a>  <span class="fu">summarize</span>(<span class="at">mon_birth=</span><span class="fu">sum</span>(births))</span>
<span id="cb103-6"><a href="#cb103-6"></a></span>
<span id="cb103-7"><a href="#cb103-7"></a>monthly_births</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 240 × 3
# Groups:   year [20]
    year mon_lab mon_birth
   &lt;int&gt; &lt;ord&gt;       &lt;int&gt;
 1  1969 Jan        293876
 2  1969 Feb        270534
 3  1969 Mar        296598
 4  1969 Apr        282470
 5  1969 May        289070
 6  1969 Jun        291448
 7  1969 Jul        318348
 8  1969 Aug        320922
 9  1969 Sep        312444
10  1969 Oct        311944
# ℹ 230 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1"></a><span class="fu">ggplot</span>(monthly_births,<span class="fu">aes</span>(<span class="at">x=</span>mon_birth,<span class="at">y=</span>mon_lab)) <span class="sc">+</span></span>
<span id="cb105-2"><a href="#cb105-2"></a>  <span class="fu">geom_density_ridges</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-dates_files/figure-html/unnamed-chunk-38-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1"></a><span class="fu">ggplot</span>(monthly_births) <span class="sc">+</span></span>
<span id="cb106-2"><a href="#cb106-2"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>mon_birth,<span class="at">x=</span>mon_lab)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-dates_files/figure-html/unnamed-chunk-38-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1"></a><span class="co">#It seems that July, August, and September usually seem to have the most births, while November and February tend to have the least</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="part-b-1" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="part-b-1">Part b</h4>
<p>In 1988, calculate the total number of births per week in each state. Get rid of week “53”, which isn’t a complete week! Then, make a line plot of births by week for each state and comment on what you learn. For example, do you notice any seasonal trends? Are these the same in every state? Any outliers?</p>
<p>Its harder to see trends in the smaller states, but it seems that births peak from week 30 (around mid-late July) to week 40 (the end of September). This is most pronounce in California, with a steady peak centering around a maximum at week 38. Outliers are somewhat hard to see in this dataset, but Illinois seems to peak around week 12 (Mid-late March, that is, now!)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1"></a>weekly_births <span class="ot">&lt;-</span> Birthdays <span class="sc">|&gt;</span></span>
<span id="cb108-2"><a href="#cb108-2"></a>  <span class="fu">filter</span>(year<span class="sc">==</span><span class="dv">1988</span>) <span class="sc">|&gt;</span></span>
<span id="cb108-3"><a href="#cb108-3"></a>  <span class="fu">mutate</span>(<span class="at">week=</span><span class="fu">week</span>(date)) <span class="sc">|&gt;</span></span>
<span id="cb108-4"><a href="#cb108-4"></a>  <span class="fu">filter</span>(week<span class="sc">!=</span><span class="dv">53</span>) <span class="sc">|&gt;</span></span>
<span id="cb108-5"><a href="#cb108-5"></a>  <span class="fu">group_by</span>(state,week) <span class="sc">|&gt;</span></span>
<span id="cb108-6"><a href="#cb108-6"></a>  <span class="fu">summarize</span>(<span class="at">wk_birth=</span><span class="fu">sum</span>(births))</span>
<span id="cb108-7"><a href="#cb108-7"></a>weekly_births <span class="sc">|&gt;</span></span>
<span id="cb108-8"><a href="#cb108-8"></a><span class="fu">arrange</span>(<span class="fu">desc</span>(wk_birth))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,652 × 3
# Groups:   state [51]
   state  week wk_birth
   &lt;chr&gt; &lt;dbl&gt;    &lt;int&gt;
 1 CA       38    11396
 2 CA       39    11262
 3 CA       37    11042
 4 CA       34    10958
 5 CA       40    10931
 6 CA       35    10763
 7 CA       36    10757
 8 CA       32    10752
 9 CA       33    10751
10 CA       21    10582
# ℹ 2,642 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1"></a><span class="fu">max</span>(weekly_births<span class="sc">$</span>wk_birth)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 11396</code></pre>
</div>
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1"></a><span class="fu">ggplot</span>(weekly_births, <span class="fu">aes</span>(<span class="at">x=</span>week,<span class="at">y=</span>wk_birth,<span class="at">color=</span>state)) <span class="sc">+</span></span>
<span id="cb112-2"><a href="#cb112-2"></a>  <span class="fu">geom_line</span>(<span class="at">linewidth=</span><span class="fl">0.4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-dates_files/figure-html/unnamed-chunk-39-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section><section id="part-c-1" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="part-c-1">Part c</h4>
<p>Repeat the above for just Minnesota (MN) and Louisiana (LA). MN has one of the coldest climates and LA has one of the warmest. How do their seasonal trends compare? Do you think these trends are similar in other colder and warmer states? Try it! In Louisiana, the aforementioned July-September birth peak is much more pronounced, and there is also a fairly pronounced valley between March and early June. In MN, on the other hand, births stay much more steady, and mostly just drop surrounding the new year. A state like Wisconsin shows both this New Years drop off and summer peak, which here starts in mid May, while while somewhere like Arizona, while much less consistent, shows some shakey signs of this summertime peak</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1"></a>weekly_births <span class="sc">|&gt;</span></span>
<span id="cb113-2"><a href="#cb113-2"></a>  <span class="fu">filter</span>(state<span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"MN"</span>,<span class="st">"LA"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb113-3"><a href="#cb113-3"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>week,<span class="at">y=</span>wk_birth,<span class="at">color=</span>state)) <span class="sc">+</span></span>
<span id="cb113-4"><a href="#cb113-4"></a>  <span class="fu">geom_line</span>(<span class="at">linewidth=</span><span class="fl">0.4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-dates_files/figure-html/unnamed-chunk-40-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1"></a>weekly_births <span class="sc">|&gt;</span></span>
<span id="cb114-2"><a href="#cb114-2"></a>  <span class="fu">filter</span>(state<span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"WI"</span>,<span class="st">"AZ"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb114-3"><a href="#cb114-3"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>week,<span class="at">y=</span>wk_birth,<span class="at">color=</span>state)) <span class="sc">+</span></span>
<span id="cb114-4"><a href="#cb114-4"></a>  <span class="fu">geom_line</span>(<span class="at">linewidth=</span><span class="fl">0.4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-dates_files/figure-html/unnamed-chunk-40-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section></section><section id="exercise-8-more-practice" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="exercise-8-more-practice">Exercise 8: More Practice</h3>
<section id="part-a-2" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="part-a-2">Part a</h4>
<p>Create a dataset with only births in Massachusetts (MA) in 1979 and sort the days from those with the most births to those with the fewest.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1"></a>Birthdays <span class="sc">|&gt;</span></span>
<span id="cb115-2"><a href="#cb115-2"></a>  <span class="fu">filter</span>(year<span class="sc">==</span><span class="dv">1979</span>, state<span class="sc">==</span><span class="st">"MA"</span>) <span class="sc">|&gt;</span></span>
<span id="cb115-3"><a href="#cb115-3"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(births))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    state year month day       date  wday births
1      MA 1979     9  28 1979-09-28   Fri    262
2      MA 1979     9  11 1979-09-11  Tues    252
3      MA 1979    12  28 1979-12-28   Fri    249
4      MA 1979     9  26 1979-09-26   Wed    246
5      MA 1979     7  24 1979-07-24  Tues    245
6      MA 1979     4  27 1979-04-27   Fri    243
7      MA 1979     8   6 1979-08-06   Mon    243
8      MA 1979    10   2 1979-10-02  Tues    239
9      MA 1979     6  29 1979-06-29   Fri    238
10     MA 1979     8  23 1979-08-23 Thurs    238
11     MA 1979     2  23 1979-02-23   Fri    237
12     MA 1979     5   1 1979-05-01  Tues    236
13     MA 1979     7  18 1979-07-18   Wed    236
14     MA 1979     8   2 1979-08-02 Thurs    236
15     MA 1979     5  24 1979-05-24 Thurs    235
16     MA 1979     8   1 1979-08-01   Wed    235
17     MA 1979     4   6 1979-04-06   Fri    234
18     MA 1979     8  31 1979-08-31   Fri    234
19     MA 1979     5  10 1979-05-10 Thurs    233
20     MA 1979     8  15 1979-08-15   Wed    233
21     MA 1979     3  23 1979-03-23   Fri    232
22     MA 1979     6  12 1979-06-12  Tues    232
23     MA 1979     7  10 1979-07-10  Tues    232
24     MA 1979     7  25 1979-07-25   Wed    232
25     MA 1979     6  27 1979-06-27   Wed    231
26     MA 1979     7  27 1979-07-27   Fri    231
27     MA 1979    10   5 1979-10-05   Fri    231
28     MA 1979     5  23 1979-05-23   Wed    230
29     MA 1979     9  19 1979-09-19   Wed    229
30     MA 1979     2  16 1979-02-16   Fri    228
31     MA 1979     8  16 1979-08-16 Thurs    228
32     MA 1979     8  24 1979-08-24   Fri    228
33     MA 1979     9  17 1979-09-17   Mon    228
34     MA 1979     4  30 1979-04-30   Mon    227
35     MA 1979     6  26 1979-06-26  Tues    227
36     MA 1979     7  20 1979-07-20   Fri    227
37     MA 1979     8  10 1979-08-10   Fri    227
38     MA 1979     8  14 1979-08-14  Tues    227
39     MA 1979     9  24 1979-09-24   Mon    227
40     MA 1979     3   5 1979-03-05   Mon    226
41     MA 1979     6  21 1979-06-21 Thurs    226
42     MA 1979     2   2 1979-02-02   Fri    225
43     MA 1979     2  27 1979-02-27  Tues    225
44     MA 1979     4   9 1979-04-09   Mon    225
45     MA 1979     5   8 1979-05-08  Tues    225
46     MA 1979     7  17 1979-07-17  Tues    225
47     MA 1979     9  14 1979-09-14   Fri    225
48     MA 1979     9  20 1979-09-20 Thurs    225
49     MA 1979     6  11 1979-06-11   Mon    224
50     MA 1979    11   9 1979-11-09   Fri    224
51     MA 1979     2  14 1979-02-14   Wed    223
52     MA 1979     7  23 1979-07-23   Mon    223
53     MA 1979     8   9 1979-08-09 Thurs    223
54     MA 1979     1   3 1979-01-03   Wed    222
55     MA 1979     1  22 1979-01-22   Mon    222
56     MA 1979     6  19 1979-06-19  Tues    222
57     MA 1979     9   4 1979-09-04  Tues    222
58     MA 1979     9  21 1979-09-21   Fri    222
59     MA 1979    10  23 1979-10-23  Tues    222
60     MA 1979     2   6 1979-02-06  Tues    221
61     MA 1979     3  19 1979-03-19   Mon    221
62     MA 1979     4  25 1979-04-25   Wed    221
63     MA 1979     8  20 1979-08-20   Mon    221
64     MA 1979     9  18 1979-09-18  Tues    221
65     MA 1979    11   6 1979-11-06  Tues    221
66     MA 1979     2  20 1979-02-20  Tues    220
67     MA 1979     4  26 1979-04-26 Thurs    220
68     MA 1979     8  13 1979-08-13   Mon    220
69     MA 1979     8  17 1979-08-17   Fri    220
70     MA 1979     9  10 1979-09-10   Mon    220
71     MA 1979    10  25 1979-10-25 Thurs    220
72     MA 1979    10  26 1979-10-26   Fri    220
73     MA 1979     3   6 1979-03-06  Tues    219
74     MA 1979     6   1 1979-06-01   Fri    219
75     MA 1979     8  29 1979-08-29   Wed    219
76     MA 1979     9  27 1979-09-27 Thurs    219
77     MA 1979    10   1 1979-10-01   Mon    219
78     MA 1979    11  19 1979-11-19   Mon    219
79     MA 1979     4  24 1979-04-24  Tues    218
80     MA 1979     5  21 1979-05-21   Mon    218
81     MA 1979     6  28 1979-06-28 Thurs    218
82     MA 1979     7   9 1979-07-09   Mon    218
83     MA 1979     8   3 1979-08-03   Fri    218
84     MA 1979     9   6 1979-09-06 Thurs    218
85     MA 1979    10   3 1979-10-03   Wed    218
86     MA 1979     6   7 1979-06-07 Thurs    217
87     MA 1979     6  14 1979-06-14 Thurs    217
88     MA 1979     7   3 1979-07-03  Tues    217
89     MA 1979     8   8 1979-08-08   Wed    217
90     MA 1979    10   4 1979-10-04 Thurs    217
91     MA 1979    10  22 1979-10-22   Mon    217
92     MA 1979    10  29 1979-10-29   Mon    217
93     MA 1979    10   9 1979-10-09  Tues    216
94     MA 1979     1  16 1979-01-16  Tues    215
95     MA 1979     3  13 1979-03-13  Tues    215
96     MA 1979     5   4 1979-05-04   Fri    215
97     MA 1979     5  14 1979-05-14   Mon    215
98     MA 1979     6  22 1979-06-22   Fri    215
99     MA 1979     3  30 1979-03-30   Fri    214
100    MA 1979     6   5 1979-06-05  Tues    214
101    MA 1979    12  14 1979-12-14   Fri    214
102    MA 1979    12  27 1979-12-27 Thurs    214
103    MA 1979     3   8 1979-03-08 Thurs    213
104    MA 1979     4  18 1979-04-18   Wed    213
105    MA 1979     8  28 1979-08-28  Tues    213
106    MA 1979    10  12 1979-10-12   Fri    213
107    MA 1979    11  14 1979-11-14   Wed    213
108    MA 1979    12  31 1979-12-31   Mon    213
109    MA 1979     4  23 1979-04-23   Mon    212
110    MA 1979     5  11 1979-05-11   Fri    212
111    MA 1979     5  18 1979-05-18   Fri    212
112    MA 1979     5  30 1979-05-30   Wed    212
113    MA 1979     7   6 1979-07-06   Fri    212
114    MA 1979     7  19 1979-07-19 Thurs    212
115    MA 1979    10  17 1979-10-17   Wed    212
116    MA 1979    10  24 1979-10-24   Wed    212
117    MA 1979    12  11 1979-12-11  Tues    212
118    MA 1979     2   5 1979-02-05   Mon    211
119    MA 1979     3   7 1979-03-07   Wed    211
120    MA 1979     3  29 1979-03-29 Thurs    211
121    MA 1979     9   7 1979-09-07   Fri    211
122    MA 1979    10  30 1979-10-30  Tues    211
123    MA 1979     7   2 1979-07-02   Mon    210
124    MA 1979     1  15 1979-01-15   Mon    209
125    MA 1979     3  26 1979-03-26   Mon    209
126    MA 1979     4   4 1979-04-04   Wed    209
127    MA 1979     7  15 1979-07-15   Sun    209
128    MA 1979     2   8 1979-02-08 Thurs    208
129    MA 1979     4  11 1979-04-11   Wed    208
130    MA 1979     6   6 1979-06-06   Wed    208
131    MA 1979     6  30 1979-06-30   Sat    208
132    MA 1979     7  30 1979-07-30   Mon    208
133    MA 1979     9  29 1979-09-29   Sat    208
134    MA 1979    10  10 1979-10-10   Wed    208
135    MA 1979     2   9 1979-02-09   Fri    207
136    MA 1979     3   9 1979-03-09   Fri    207
137    MA 1979     4  20 1979-04-20   Fri    207
138    MA 1979     6  20 1979-06-20   Wed    207
139    MA 1979     7  26 1979-07-26 Thurs    207
140    MA 1979     8  21 1979-08-21  Tues    207
141    MA 1979     9  25 1979-09-25  Tues    207
142    MA 1979    11  26 1979-11-26   Mon    207
143    MA 1979     1   2 1979-01-02  Tues    206
144    MA 1979     2  22 1979-02-22 Thurs    206
145    MA 1979     7  12 1979-07-12 Thurs    206
146    MA 1979     7  13 1979-07-13   Fri    206
147    MA 1979     9   5 1979-09-05   Wed    206
148    MA 1979     5  25 1979-05-25   Fri    205
149    MA 1979    11  23 1979-11-23   Fri    205
150    MA 1979    11  28 1979-11-28   Wed    205
151    MA 1979    12   4 1979-12-04  Tues    205
152    MA 1979     1  26 1979-01-26   Fri    204
153    MA 1979     3  22 1979-03-22 Thurs    204
154    MA 1979     5  16 1979-05-16   Wed    204
155    MA 1979    10  16 1979-10-16  Tues    204
156    MA 1979    11  16 1979-11-16   Fri    204
157    MA 1979    12  24 1979-12-24   Mon    204
158    MA 1979     3   2 1979-03-02   Fri    203
159    MA 1979     4   3 1979-04-03  Tues    203
160    MA 1979     4  12 1979-04-12 Thurs    203
161    MA 1979     5   3 1979-05-03 Thurs    203
162    MA 1979    10   6 1979-10-06   Sat    203
163    MA 1979    11   1 1979-11-01 Thurs    203
164    MA 1979    11  30 1979-11-30   Fri    203
165    MA 1979    12  10 1979-12-10   Mon    203
166    MA 1979    12  17 1979-12-17   Mon    203
167    MA 1979     6   8 1979-06-08   Fri    202
168    MA 1979     6  15 1979-06-15   Fri    202
169    MA 1979    11  11 1979-11-11   Sun    202
170    MA 1979     1  29 1979-01-29   Mon    201
171    MA 1979     3  21 1979-03-21   Wed    201
172    MA 1979     3  28 1979-03-28   Wed    201
173    MA 1979     4  10 1979-04-10  Tues    201
174    MA 1979     5   2 1979-05-02   Wed    201
175    MA 1979    10  15 1979-10-15   Mon    201
176    MA 1979    11   7 1979-11-07   Wed    201
177    MA 1979     1  18 1979-01-18 Thurs    200
178    MA 1979     4  19 1979-04-19 Thurs    200
179    MA 1979     7  11 1979-07-11   Wed    200
180    MA 1979     7  21 1979-07-21   Sat    200
181    MA 1979     8   5 1979-08-05   Sun    200
182    MA 1979    10  19 1979-10-19   Fri    200
183    MA 1979    11   2 1979-11-02   Fri    200
184    MA 1979    11  15 1979-11-15 Thurs    200
185    MA 1979    11  20 1979-11-20  Tues    200
186    MA 1979     1  11 1979-01-11 Thurs    199
187    MA 1979     2  12 1979-02-12   Mon    199
188    MA 1979     3  14 1979-03-14   Wed    199
189    MA 1979     5  22 1979-05-22  Tues    199
190    MA 1979     2  26 1979-02-26   Mon    198
191    MA 1979     3  15 1979-03-15 Thurs    198
192    MA 1979     6  13 1979-06-13   Wed    198
193    MA 1979     6  18 1979-06-18   Mon    198
194    MA 1979     7  31 1979-07-31  Tues    198
195    MA 1979     8  26 1979-08-26   Sun    198
196    MA 1979     9  13 1979-09-13 Thurs    198
197    MA 1979    11  13 1979-11-13  Tues    198
198    MA 1979    12   7 1979-12-07   Fri    198
199    MA 1979     5  31 1979-05-31 Thurs    197
200    MA 1979    11  27 1979-11-27  Tues    197
201    MA 1979    12   6 1979-12-06 Thurs    197
202    MA 1979     2  21 1979-02-21   Wed    196
203    MA 1979     4  17 1979-04-17  Tues    196
204    MA 1979     4  21 1979-04-21   Sat    196
205    MA 1979     6  25 1979-06-25   Mon    196
206    MA 1979     8   4 1979-08-04   Sat    196
207    MA 1979     8   7 1979-08-07  Tues    196
208    MA 1979    10   8 1979-10-08   Mon    196
209    MA 1979    10  11 1979-10-11 Thurs    196
210    MA 1979     1  13 1979-01-13   Sat    195
211    MA 1979     4  13 1979-04-13   Fri    195
212    MA 1979     1  19 1979-01-19   Fri    194
213    MA 1979     3  16 1979-03-16   Fri    194
214    MA 1979     5   7 1979-05-07   Mon    194
215    MA 1979     9  12 1979-09-12   Wed    194
216    MA 1979    11   5 1979-11-05   Mon    194
217    MA 1979     1  10 1979-01-10   Wed    193
218    MA 1979     1  30 1979-01-30  Tues    193
219    MA 1979     3  11 1979-03-11   Sun    193
220    MA 1979     6  17 1979-06-17   Sun    193
221    MA 1979     8  27 1979-08-27   Mon    193
222    MA 1979     9   9 1979-09-09   Sun    193
223    MA 1979    12  13 1979-12-13 Thurs    193
224    MA 1979     1   5 1979-01-05   Fri    192
225    MA 1979     2  19 1979-02-19   Mon    192
226    MA 1979     3   1 1979-03-01 Thurs    192
227    MA 1979     7  14 1979-07-14   Sat    192
228    MA 1979    11  29 1979-11-29 Thurs    192
229    MA 1979     1   8 1979-01-08   Mon    191
230    MA 1979     1  12 1979-01-12   Fri    191
231    MA 1979     2  15 1979-02-15 Thurs    191
232    MA 1979     3  24 1979-03-24   Sat    191
233    MA 1979    10  28 1979-10-28   Sun    191
234    MA 1979     4   2 1979-04-02   Mon    190
235    MA 1979     5  27 1979-05-27   Sun    190
236    MA 1979    12   3 1979-12-03   Mon    190
237    MA 1979    12  12 1979-12-12   Wed    190
238    MA 1979     4   1 1979-04-01   Sun    189
239    MA 1979     4   5 1979-04-05 Thurs    189
240    MA 1979     8  22 1979-08-22   Wed    189
241    MA 1979    12  26 1979-12-26   Wed    189
242    MA 1979     1  24 1979-01-24   Wed    188
243    MA 1979     7  16 1979-07-16   Mon    188
244    MA 1979    11  21 1979-11-21   Wed    188
245    MA 1979     4  16 1979-04-16   Mon    187
246    MA 1979     6  10 1979-06-10   Sun    187
247    MA 1979     8  11 1979-08-11   Sat    187
248    MA 1979     2   7 1979-02-07   Wed    186
249    MA 1979     3  17 1979-03-17   Sat    186
250    MA 1979     3  27 1979-03-27  Tues    186
251    MA 1979     4   7 1979-04-07   Sat    186
252    MA 1979     5   9 1979-05-09   Wed    186
253    MA 1979     5  15 1979-05-15  Tues    186
254    MA 1979     5  17 1979-05-17 Thurs    186
255    MA 1979     7   7 1979-07-07   Sat    186
256    MA 1979     9  15 1979-09-15   Sat    186
257    MA 1979    10   7 1979-10-07   Sun    186
258    MA 1979     3  12 1979-03-12   Mon    185
259    MA 1979     3  20 1979-03-20  Tues    185
260    MA 1979    12   5 1979-12-05   Wed    185
261    MA 1979     1   4 1979-01-04 Thurs    184
262    MA 1979     2   1 1979-02-01 Thurs    184
263    MA 1979     5  29 1979-05-29  Tues    184
264    MA 1979     9   3 1979-09-03   Mon    184
265    MA 1979    11   8 1979-11-08 Thurs    184
266    MA 1979    12  19 1979-12-19   Wed    184
267    MA 1979    12  21 1979-12-21   Fri    184
268    MA 1979     1  23 1979-01-23  Tues    183
269    MA 1979     4  28 1979-04-28   Sat    183
270    MA 1979     6  24 1979-06-24   Sun    183
271    MA 1979     7  28 1979-07-28   Sat    183
272    MA 1979     7  29 1979-07-29   Sun    183
273    MA 1979     8  19 1979-08-19   Sun    183
274    MA 1979    10  21 1979-10-21   Sun    183
275    MA 1979    10  18 1979-10-18 Thurs    182
276    MA 1979     1   9 1979-01-09  Tues    180
277    MA 1979     2  11 1979-02-11   Sun    180
278    MA 1979     5  19 1979-05-19   Sat    180
279    MA 1979     5  28 1979-05-28   Mon    180
280    MA 1979     6   3 1979-06-03   Sun    180
281    MA 1979    10  20 1979-10-20   Sat    180
282    MA 1979    10  31 1979-10-31   Wed    180
283    MA 1979    12  18 1979-12-18  Tues    180
284    MA 1979     1  31 1979-01-31   Wed    179
285    MA 1979     3  10 1979-03-10   Sat    179
286    MA 1979     4  29 1979-04-29   Sun    179
287    MA 1979     7   5 1979-07-05 Thurs    179
288    MA 1979     8  30 1979-08-30 Thurs    179
289    MA 1979     1  25 1979-01-25 Thurs    178
290    MA 1979     5  26 1979-05-26   Sat    178
291    MA 1979    10  14 1979-10-14   Sun    178
292    MA 1979     2  28 1979-02-28   Wed    177
293    MA 1979     7   8 1979-07-08   Sun    177
294    MA 1979     2  25 1979-02-25   Sun    176
295    MA 1979     4  15 1979-04-15   Sun    176
296    MA 1979     9  22 1979-09-22   Sat    176
297    MA 1979     6  23 1979-06-23   Sat    175
298    MA 1979     7  22 1979-07-22   Sun    175
299    MA 1979    10  27 1979-10-27   Sat    175
300    MA 1979     2  10 1979-02-10   Sat    174
301    MA 1979     8  25 1979-08-25   Sat    174
302    MA 1979     9  16 1979-09-16   Sun    174
303    MA 1979    11  12 1979-11-12   Mon    174
304    MA 1979    11  17 1979-11-17   Sat    174
305    MA 1979     6   2 1979-06-02   Sat    173
306    MA 1979     7   1 1979-07-01   Sun    173
307    MA 1979    10  13 1979-10-13   Sat    173
308    MA 1979     3  25 1979-03-25   Sun    172
309    MA 1979     6  16 1979-06-16   Sat    172
310    MA 1979    11  10 1979-11-10   Sat    172
311    MA 1979     2  13 1979-02-13  Tues    171
312    MA 1979     3  31 1979-03-31   Sat    171
313    MA 1979     6   9 1979-06-09   Sat    171
314    MA 1979    11  25 1979-11-25   Sun    171
315    MA 1979    12  22 1979-12-22   Sat    171
316    MA 1979     5   6 1979-05-06   Sun    170
317    MA 1979     9   2 1979-09-02   Sun    170
318    MA 1979     1   6 1979-01-06   Sat    169
319    MA 1979     8  12 1979-08-12   Sun    169
320    MA 1979     9   8 1979-09-08   Sat    169
321    MA 1979    11   3 1979-11-03   Sat    169
322    MA 1979    12  15 1979-12-15   Sat    169
323    MA 1979     2  18 1979-02-18   Sun    168
324    MA 1979     9   1 1979-09-01   Sat    168
325    MA 1979    11  18 1979-11-18   Sun    166
326    MA 1979    12   1 1979-12-01   Sat    166
327    MA 1979     2  24 1979-02-24   Sat    165
328    MA 1979     4  22 1979-04-22   Sun    165
329    MA 1979     4  14 1979-04-14   Sat    164
330    MA 1979     7   4 1979-07-04   Wed    164
331    MA 1979     9  23 1979-09-23   Sun    164
332    MA 1979    12   2 1979-12-02   Sun    164
333    MA 1979     6   4 1979-06-04   Mon    163
334    MA 1979    12  16 1979-12-16   Sun    163
335    MA 1979     1  21 1979-01-21   Sun    162
336    MA 1979     1  27 1979-01-27   Sat    162
337    MA 1979     5  12 1979-05-12   Sat    162
338    MA 1979     9  30 1979-09-30   Sun    162
339    MA 1979    12  29 1979-12-29   Sat    161
340    MA 1979    12  23 1979-12-23   Sun    160
341    MA 1979     2   3 1979-02-03   Sat    159
342    MA 1979     8  18 1979-08-18   Sat    159
343    MA 1979     1  20 1979-01-20   Sat    158
344    MA 1979     2  17 1979-02-17   Sat    156
345    MA 1979     3   3 1979-03-03   Sat    156
346    MA 1979     3   4 1979-03-04   Sun    156
347    MA 1979    11  24 1979-11-24   Sat    156
348    MA 1979    12   9 1979-12-09   Sun    156
349    MA 1979     1   7 1979-01-07   Sun    155
350    MA 1979     1  14 1979-01-14   Sun    155
351    MA 1979     1  17 1979-01-17   Wed    155
352    MA 1979     4   8 1979-04-08   Sun    155
353    MA 1979    11   4 1979-11-04   Sun    155
354    MA 1979    12  20 1979-12-20 Thurs    154
355    MA 1979     2   4 1979-02-04   Sun    153
356    MA 1979     5  20 1979-05-20   Sun    153
357    MA 1979     3  18 1979-03-18   Sun    152
358    MA 1979    12  30 1979-12-30   Sun    152
359    MA 1979    12   8 1979-12-08   Sat    151
360    MA 1979    12  25 1979-12-25  Tues    150
361    MA 1979     5   5 1979-05-05   Sat    148
362    MA 1979    11  22 1979-11-22 Thurs    147
363    MA 1979     1  28 1979-01-28   Sun    146
364    MA 1979     1   1 1979-01-01   Mon    144
365    MA 1979     5  13 1979-05-13   Sun    143</code></pre>
</div>
</div>
</section><section id="part-b-2" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="part-b-2">Part b</h4>
<p>Make a table showing the five states with the most births between September 9, 1979 and September 12, 1979, including the 9th and 12th. Arrange the table in descending order of births.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1"></a>Birthdays <span class="sc">|&gt;</span></span>
<span id="cb117-2"><a href="#cb117-2"></a>  <span class="fu">filter</span>(date<span class="sc">&gt;=</span><span class="fu">ymd</span>(<span class="st">"1979-09-09"</span>),date<span class="sc">&lt;=</span><span class="fu">ymd</span>(<span class="st">"1979-09-12"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb117-3"><a href="#cb117-3"></a>  <span class="fu">group_by</span>(state) <span class="sc">|&gt;</span></span>
<span id="cb117-4"><a href="#cb117-4"></a>  <span class="fu">summarize</span>(<span class="at">prd_births=</span><span class="fu">sum</span>(births)) <span class="sc">|&gt;</span></span>
<span id="cb117-5"><a href="#cb117-5"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(prd_births)) <span class="sc">|&gt;</span></span>
<span id="cb117-6"><a href="#cb117-6"></a>  <span class="fu">head</span>(<span class="at">n=</span><span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 2
  state prd_births
  &lt;chr&gt;      &lt;int&gt;
1 CA          4422
2 TX          3151
3 NY          2621
4 IL          2235
5 OH          1938</code></pre>
</div>
</div>
</section></section></section><section id="solutions" class="level2" data-number="12.4"><h2 data-number="12.4" class="anchored" data-anchor-id="solutions">
<span class="header-section-number">12.4</span> Solutions</h2>
<details><summary>
Click for Solutions
</summary><section id="example-1-single-verb-1" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="example-1-single-verb-1">Example 1: Single Verb</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(<span class="at">y =</span> body_mass_g, <span class="at">x =</span> bill_length_mm, <span class="at">color =</span> species)) <span class="sc">+</span> </span>
<span id="cb119-2"><a href="#cb119-2"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb119-3"><a href="#cb119-3"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-dates_files/figure-html/unnamed-chunk-43-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><br><br><br><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1"></a><span class="co"># Get data on only Adelie penguins that weigh more than 4700g</span></span>
<span id="cb120-2"><a href="#cb120-2"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb120-3"><a href="#cb120-3"></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">"Adelie"</span>, body_mass_g <span class="sc">&gt;</span> <span class="dv">4700</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 8
  species island bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
  &lt;chr&gt;   &lt;chr&gt;           &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt;
1 Adelie  Biscoe           41              20               203        4725
2 Adelie  Biscoe           43.2            19               197        4775
# ℹ 2 more variables: sex &lt;chr&gt;, year &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1"></a><span class="co"># Get data on penguin body mass only</span></span>
<span id="cb122-2"><a href="#cb122-2"></a><span class="co"># Show just the first 6 rows</span></span>
<span id="cb122-3"><a href="#cb122-3"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb122-4"><a href="#cb122-4"></a>  <span class="fu">select</span>(body_mass_g) <span class="sc">|&gt;</span> </span>
<span id="cb122-5"><a href="#cb122-5"></a>  <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 1
  body_mass_g
        &lt;dbl&gt;
1        3750
2        3800
3        3250
4          NA
5        3450
6        3650</code></pre>
</div>
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1"></a><span class="co"># Sort the penguins from smallest to largest body mass</span></span>
<span id="cb124-2"><a href="#cb124-2"></a><span class="co"># Show just the first 6 rows</span></span>
<span id="cb124-3"><a href="#cb124-3"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb124-4"><a href="#cb124-4"></a>  <span class="fu">arrange</span>(body_mass_g) <span class="sc">|&gt;</span> </span>
<span id="cb124-5"><a href="#cb124-5"></a>  <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
  species   island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
  &lt;chr&gt;     &lt;chr&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt;
1 Chinstrap Dream               46.9          16.6               192        2700
2 Adelie    Biscoe              36.5          16.6               181        2850
3 Adelie    Biscoe              36.4          17.1               184        2850
4 Adelie    Biscoe              34.5          18.1               187        2900
5 Adelie    Dream               33.1          16.1               178        2900
6 Adelie    Torgersen           38.6          17                 188        2900
# ℹ 2 more variables: sex &lt;chr&gt;, year &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1"></a><span class="co"># Calculate the average body mass across all penguins</span></span>
<span id="cb126-2"><a href="#cb126-2"></a><span class="co"># Note: na.rm = TRUE removes the NAs from the calculation</span></span>
<span id="cb126-3"><a href="#cb126-3"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb126-4"><a href="#cb126-4"></a>  <span class="fu">summarize</span>(<span class="at">mean =</span> <span class="fu">mean</span>(body_mass_g, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
   mean
  &lt;dbl&gt;
1 4202.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1"></a><span class="co"># Calculate the average body mass by species</span></span>
<span id="cb128-2"><a href="#cb128-2"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb128-3"><a href="#cb128-3"></a>  <span class="fu">group_by</span>(species) <span class="sc">|&gt;</span> </span>
<span id="cb128-4"><a href="#cb128-4"></a>  <span class="fu">summarize</span>(<span class="at">mean =</span> <span class="fu">mean</span>(body_mass_g, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  species    mean
  &lt;chr&gt;     &lt;dbl&gt;
1 Adelie    3701.
2 Chinstrap 3733.
3 Gentoo    5076.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1"></a><span class="co"># Create a new column that records body mass in kilograms, not grams</span></span>
<span id="cb130-2"><a href="#cb130-2"></a><span class="co"># </span><span class="al">NOTE</span><span class="co">: there are 1000 g in 1 kg</span></span>
<span id="cb130-3"><a href="#cb130-3"></a><span class="co"># Show just the first 6 rows</span></span>
<span id="cb130-4"><a href="#cb130-4"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb130-5"><a href="#cb130-5"></a>  <span class="fu">mutate</span>(<span class="at">body_mass_kg =</span> body_mass_g<span class="sc">/</span><span class="dv">1000</span>) <span class="sc">|&gt;</span> </span>
<span id="cb130-6"><a href="#cb130-6"></a>  <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 9
  species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
  &lt;chr&gt;   &lt;chr&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt;
1 Adelie  Torgersen           39.1          18.7               181        3750
2 Adelie  Torgersen           39.5          17.4               186        3800
3 Adelie  Torgersen           40.3          18                 195        3250
4 Adelie  Torgersen           NA            NA                  NA          NA
5 Adelie  Torgersen           36.7          19.3               193        3450
6 Adelie  Torgersen           39.3          20.6               190        3650
# ℹ 3 more variables: sex &lt;chr&gt;, year &lt;dbl&gt;, body_mass_kg &lt;dbl&gt;</code></pre>
</div>
</div>
<p><br><br><br><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(<span class="at">x =</span> species)) <span class="sc">+</span> </span>
<span id="cb132-2"><a href="#cb132-2"></a>  <span class="fu">geom_bar</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="ica-dates_files/figure-html/unnamed-chunk-45-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb133-2"><a href="#cb133-2"></a>  <span class="fu">group_by</span>(species) <span class="sc">|&gt;</span> </span>
<span id="cb133-3"><a href="#cb133-3"></a>  <span class="fu">summarize</span>(<span class="fu">n</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  species   `n()`
  &lt;chr&gt;     &lt;int&gt;
1 Adelie      152
2 Chinstrap    68
3 Gentoo      124</code></pre>
</div>
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb135-2"><a href="#cb135-2"></a>  <span class="fu">count</span>(species)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  species       n
  &lt;chr&gt;     &lt;int&gt;
1 Adelie      152
2 Chinstrap    68
3 Gentoo      124</code></pre>
</div>
</div>
</section><section id="example-2-multiple-verbs-1" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="example-2-multiple-verbs-1">Example 2: Multiple Verbs</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1"></a><span class="co"># Sort Gentoo penguins from biggest to smallest with respect to their </span></span>
<span id="cb137-2"><a href="#cb137-2"></a><span class="co"># bill length in cm (there are 10 mm in a cm)</span></span>
<span id="cb137-3"><a href="#cb137-3"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb137-4"><a href="#cb137-4"></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">"Gentoo"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb137-5"><a href="#cb137-5"></a>  <span class="fu">mutate</span>(<span class="at">bill_length_cm =</span> bill_length_mm <span class="sc">/</span> <span class="dv">10</span>) <span class="sc">|&gt;</span> </span>
<span id="cb137-6"><a href="#cb137-6"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(bill_length_cm))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 124 × 9
   species island bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
   &lt;chr&gt;   &lt;chr&gt;           &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt;
 1 Gentoo  Biscoe           59.6          17                 230        6050
 2 Gentoo  Biscoe           55.9          17                 228        5600
 3 Gentoo  Biscoe           55.1          16                 230        5850
 4 Gentoo  Biscoe           54.3          15.7               231        5650
 5 Gentoo  Biscoe           53.4          15.8               219        5500
 6 Gentoo  Biscoe           52.5          15.6               221        5450
 7 Gentoo  Biscoe           52.2          17.1               228        5400
 8 Gentoo  Biscoe           52.1          17                 230        5550
 9 Gentoo  Biscoe           51.5          16.3               230        5500
10 Gentoo  Biscoe           51.3          14.2               218        5300
# ℹ 114 more rows
# ℹ 3 more variables: sex &lt;chr&gt;, year &lt;dbl&gt;, bill_length_cm &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1"></a><span class="co"># Sort the species from smallest to biggest with respect to their </span></span>
<span id="cb139-2"><a href="#cb139-2"></a><span class="co"># average bill length in cm</span></span>
<span id="cb139-3"><a href="#cb139-3"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb139-4"><a href="#cb139-4"></a>  <span class="fu">mutate</span>(<span class="at">bill_length_cm =</span> bill_length_mm <span class="sc">/</span> <span class="dv">10</span>) <span class="sc">|&gt;</span> </span>
<span id="cb139-5"><a href="#cb139-5"></a>  <span class="fu">group_by</span>(species) <span class="sc">|&gt;</span> </span>
<span id="cb139-6"><a href="#cb139-6"></a>  <span class="fu">summarize</span>(<span class="at">mean_bill_length =</span> <span class="fu">mean</span>(bill_length_cm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb139-7"><a href="#cb139-7"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(mean_bill_length))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  species   mean_bill_length
  &lt;chr&gt;                &lt;dbl&gt;
1 Chinstrap             4.88
2 Gentoo                4.75
3 Adelie                3.88</code></pre>
</div>
</div>
</section><section id="example-3-interpret-code-1" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="example-3-interpret-code-1">Example 3: Interpret Code</h3>
</section><section id="exercise-1-more-filtering-1" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="exercise-1-more-filtering-1">Exercise 1: More Filtering</h3>
<section id="part-a-3" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="part-a-3">Part a</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1"></a><span class="co"># Create a dataset with just Adelie and Chinstrap using %in%</span></span>
<span id="cb141-2"><a href="#cb141-2"></a><span class="co"># Pipe this into `count(species)` to confirm that you only have these 2 species</span></span>
<span id="cb141-3"><a href="#cb141-3"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb141-4"><a href="#cb141-4"></a>  <span class="fu">filter</span>(species <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Adelie"</span>, <span class="st">"Chinstrap"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb141-5"><a href="#cb141-5"></a>  <span class="fu">count</span>(species)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  species       n
  &lt;chr&gt;     &lt;int&gt;
1 Adelie      152
2 Chinstrap    68</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1"></a><span class="co"># Create a dataset with just Adelie and Chinstrap using !=</span></span>
<span id="cb143-2"><a href="#cb143-2"></a><span class="co"># Pipe this into `count(species)` to confirm that you only have these 2 species</span></span>
<span id="cb143-3"><a href="#cb143-3"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb143-4"><a href="#cb143-4"></a>  <span class="fu">filter</span>(species <span class="sc">!=</span> <span class="st">"Gentoo"</span>) <span class="sc">|&gt;</span></span>
<span id="cb143-5"><a href="#cb143-5"></a>  <span class="fu">count</span>(species)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  species       n
  &lt;chr&gt;     &lt;int&gt;
1 Adelie      152
2 Chinstrap    68</code></pre>
</div>
</div>
</section><section id="part-b-3" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="part-b-3">Part b</h4>
</section><section id="part-c-2" class="level4 unnumbered"><h4 class="unnumbered anchored" data-anchor-id="part-c-2">Part c</h4>
<p>It might get rid of data points even if they have complete information on the variables we need, just because they’re missing info on variables we don’t need.</p>
</section></section><section id="exercise-2-more-selecting-1" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="exercise-2-more-selecting-1">Exercise 2: More selecting</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1"></a><span class="co"># First: recall the variable names</span></span>
<span id="cb145-2"><a href="#cb145-2"></a><span class="fu">names</span>(penguins)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "species"           "island"            "bill_length_mm"   
[4] "bill_depth_mm"     "flipper_length_mm" "body_mass_g"      
[7] "sex"               "year"             </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1"></a><span class="co"># Use a shortcut to keep everything but the year and island variables</span></span>
<span id="cb147-2"><a href="#cb147-2"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb147-3"><a href="#cb147-3"></a>  <span class="fu">select</span>(<span class="sc">-</span>year, <span class="sc">-</span>island)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 344 × 6
   species bill_length_mm bill_depth_mm flipper_length_mm body_mass_g sex   
   &lt;chr&gt;            &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt; 
 1 Adelie            39.1          18.7               181        3750 male  
 2 Adelie            39.5          17.4               186        3800 female
 3 Adelie            40.3          18                 195        3250 female
 4 Adelie            NA            NA                  NA          NA &lt;NA&gt;  
 5 Adelie            36.7          19.3               193        3450 female
 6 Adelie            39.3          20.6               190        3650 male  
 7 Adelie            38.9          17.8               181        3625 female
 8 Adelie            39.2          19.6               195        4675 male  
 9 Adelie            34.1          18.1               193        3475 &lt;NA&gt;  
10 Adelie            42            20.2               190        4250 &lt;NA&gt;  
# ℹ 334 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1"></a><span class="co"># Use a shortcut to keep only species and the penguin characteristics measured in mm</span></span>
<span id="cb149-2"><a href="#cb149-2"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb149-3"><a href="#cb149-3"></a>  <span class="fu">select</span>(species, <span class="fu">ends_with</span>(<span class="st">"mm"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 344 × 4
   species bill_length_mm bill_depth_mm flipper_length_mm
   &lt;chr&gt;            &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;
 1 Adelie            39.1          18.7               181
 2 Adelie            39.5          17.4               186
 3 Adelie            40.3          18                 195
 4 Adelie            NA            NA                  NA
 5 Adelie            36.7          19.3               193
 6 Adelie            39.3          20.6               190
 7 Adelie            38.9          17.8               181
 8 Adelie            39.2          19.6               195
 9 Adelie            34.1          18.1               193
10 Adelie            42            20.2               190
# ℹ 334 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1"></a><span class="co"># Use a shortcut to keep only species and bill-related measurements</span></span>
<span id="cb151-2"><a href="#cb151-2"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb151-3"><a href="#cb151-3"></a>  <span class="fu">select</span>(species, <span class="fu">starts_with</span>(<span class="st">"bill"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 344 × 3
   species bill_length_mm bill_depth_mm
   &lt;chr&gt;            &lt;dbl&gt;         &lt;dbl&gt;
 1 Adelie            39.1          18.7
 2 Adelie            39.5          17.4
 3 Adelie            40.3          18  
 4 Adelie            NA            NA  
 5 Adelie            36.7          19.3
 6 Adelie            39.3          20.6
 7 Adelie            38.9          17.8
 8 Adelie            39.2          19.6
 9 Adelie            34.1          18.1
10 Adelie            42            20.2
# ℹ 334 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb153"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1"></a><span class="co"># Use a shortcut to keep only species and the length-related characteristics</span></span>
<span id="cb153-2"><a href="#cb153-2"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb153-3"><a href="#cb153-3"></a>  <span class="fu">select</span>(species, <span class="fu">contains</span>(<span class="st">"length"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 344 × 3
   species bill_length_mm flipper_length_mm
   &lt;chr&gt;            &lt;dbl&gt;             &lt;dbl&gt;
 1 Adelie            39.1               181
 2 Adelie            39.5               186
 3 Adelie            40.3               195
 4 Adelie            NA                  NA
 5 Adelie            36.7               193
 6 Adelie            39.3               190
 7 Adelie            38.9               181
 8 Adelie            39.2               195
 9 Adelie            34.1               193
10 Adelie            42                 190
# ℹ 334 more rows</code></pre>
</div>
</div>
</section><section id="exercise-3-arranging-counting-grouping-by-multiple-variables-1" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="exercise-3-arranging-counting-grouping-by-multiple-variables-1">Exercise 3: Arranging, counting, &amp; grouping by multiple variables</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb155"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb155-1"><a href="#cb155-1"></a><span class="co"># Change this code to sort the penguins by species, and then island name</span></span>
<span id="cb155-2"><a href="#cb155-2"></a><span class="co"># </span><span class="al">NOTE</span><span class="co">: The first row should be an Adelie penguin living on Biscoe island</span></span>
<span id="cb155-3"><a href="#cb155-3"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb155-4"><a href="#cb155-4"></a>  <span class="fu">arrange</span>(species, island) <span class="sc">|&gt;</span> </span>
<span id="cb155-5"><a href="#cb155-5"></a>  <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
  species island bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
  &lt;chr&gt;   &lt;chr&gt;           &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt;
1 Adelie  Biscoe           37.8          18.3               174        3400
2 Adelie  Biscoe           37.7          18.7               180        3600
3 Adelie  Biscoe           35.9          19.2               189        3800
4 Adelie  Biscoe           38.2          18.1               185        3950
5 Adelie  Biscoe           38.8          17.2               180        3800
6 Adelie  Biscoe           35.3          18.9               187        3800
# ℹ 2 more variables: sex &lt;chr&gt;, year &lt;dbl&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb157"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1"></a><span class="co"># Change this code to count the number of male/female penguins observed for each species</span></span>
<span id="cb157-2"><a href="#cb157-2"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb157-3"><a href="#cb157-3"></a>  <span class="fu">count</span>(species, sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 3
  species   sex        n
  &lt;chr&gt;     &lt;chr&gt;  &lt;int&gt;
1 Adelie    female    73
2 Adelie    male      73
3 Adelie    &lt;NA&gt;       6
4 Chinstrap female    34
5 Chinstrap male      34
6 Gentoo    female    58
7 Gentoo    male      61
8 Gentoo    &lt;NA&gt;       5</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb159"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1"></a><span class="co"># Change this code to calculate the average body mass by species and sex</span></span>
<span id="cb159-2"><a href="#cb159-2"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb159-3"><a href="#cb159-3"></a>  <span class="fu">group_by</span>(species, sex) <span class="sc">|&gt;</span> </span>
<span id="cb159-4"><a href="#cb159-4"></a>  <span class="fu">summarize</span>(<span class="at">mean =</span> <span class="fu">mean</span>(body_mass_g, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 3
# Groups:   species [3]
  species   sex     mean
  &lt;chr&gt;     &lt;chr&gt;  &lt;dbl&gt;
1 Adelie    female 3369.
2 Adelie    male   4043.
3 Adelie    &lt;NA&gt;   3540 
4 Chinstrap female 3527.
5 Chinstrap male   3939.
6 Gentoo    female 4680.
7 Gentoo    male   5485.
8 Gentoo    &lt;NA&gt;   4588.</code></pre>
</div>
</div>
</section><section id="exercise-4-dates-1" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="exercise-4-dates-1">Exercise 4: Dates</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb161"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1"></a><span class="co"># Get today's date</span></span>
<span id="cb161-2"><a href="#cb161-2"></a><span class="fu">as.Date</span>(<span class="fu">today</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2025-03-26"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb163"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1"></a><span class="co"># Let's store this as "today" so we can work with it below</span></span>
<span id="cb163-2"><a href="#cb163-2"></a>today <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="fu">today</span>())</span>
<span id="cb163-3"><a href="#cb163-3"></a></span>
<span id="cb163-4"><a href="#cb163-4"></a><span class="co"># Check out the class of this object</span></span>
<span id="cb163-5"><a href="#cb163-5"></a><span class="fu">class</span>(today)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Date"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb165"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb165-1"><a href="#cb165-1"></a><span class="co"># Records just the 4-digit year</span></span>
<span id="cb165-2"><a href="#cb165-2"></a><span class="fu">year</span>(today)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2025</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb167"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb167-1"><a href="#cb167-1"></a><span class="co"># Today's month, as a number or label</span></span>
<span id="cb167-2"><a href="#cb167-2"></a><span class="fu">month</span>(today)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb169"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb169-1"><a href="#cb169-1"></a><span class="fu">month</span>(today, <span class="at">label =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] Mar
12 Levels: Jan &lt; Feb &lt; Mar &lt; Apr &lt; May &lt; Jun &lt; Jul &lt; Aug &lt; Sep &lt; ... &lt; Dec</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb171"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb171-1"><a href="#cb171-1"></a><span class="co"># This is the week of the year (1-52)</span></span>
<span id="cb171-2"><a href="#cb171-2"></a><span class="fu">week</span>(today)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 13</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb173"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb173-1"><a href="#cb173-1"></a><span class="co"># Day of the month (1-31) and day of the year (1-366)</span></span>
<span id="cb173-2"><a href="#cb173-2"></a><span class="fu">mday</span>(today)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 26</code></pre>
</div>
<div class="sourceCode cell-code" id="cb175"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb175-1"><a href="#cb175-1"></a><span class="fu">yday</span>(today)  <span class="co"># This is often called the "Julian day"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 85</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb177"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb177-1"><a href="#cb177-1"></a><span class="co"># Day of the week as a number or label</span></span>
<span id="cb177-2"><a href="#cb177-2"></a><span class="fu">wday</span>(today)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb179"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb179-1"><a href="#cb179-1"></a><span class="fu">wday</span>(today, <span class="at">label =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] Wed
Levels: Sun &lt; Mon &lt; Tue &lt; Wed &lt; Thu &lt; Fri &lt; Sat</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb181"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb181-1"><a href="#cb181-1"></a><span class="co"># today is on or after Feb 14, 2024</span></span>
<span id="cb181-2"><a href="#cb181-2"></a>today <span class="sc">&gt;=</span> <span class="fu">ymd</span>(<span class="st">"2024-02-14"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb183"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb183-1"><a href="#cb183-1"></a><span class="co"># today is not before Feb 14, 2024</span></span>
<span id="cb183-2"><a href="#cb183-2"></a>today <span class="sc">&lt;</span> <span class="fu">ymd</span>(<span class="st">"2024-02-14"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
</section></details>

<!-- -->

</section><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><hr>
<ol>
<li id="fn1"><p>The <code>fivethirtyeight</code> package has more recent data.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="../ica/ica-wrang.html" class="pagination-link" aria-label="Wrangling">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Wrangling</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../ica/ica-imp.html" class="pagination-link" aria-label="Data Import">
        <span class="nav-page-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Data Import</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb185" data-shortcodes="false"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb185-1"><a href="#cb185-1"></a><span class="co">---</span></span>
<span id="cb185-2"><a href="#cb185-2"></a><span class="an">title:</span><span class="co"> "Dates"</span></span>
<span id="cb185-3"><a href="#cb185-3"></a><span class="an">number-sections:</span><span class="co"> true</span></span>
<span id="cb185-4"><a href="#cb185-4"></a><span class="an">execute:</span><span class="co"> </span></span>
<span id="cb185-5"><a href="#cb185-5"></a><span class="co">  warning: false</span></span>
<span id="cb185-6"><a href="#cb185-6"></a><span class="an">fig-env:</span><span class="co"> 'figure'</span></span>
<span id="cb185-7"><a href="#cb185-7"></a><span class="an">fig-pos:</span><span class="co"> 'h'</span></span>
<span id="cb185-8"><a href="#cb185-8"></a><span class="an">fig-align:</span><span class="co"> center</span></span>
<span id="cb185-9"><a href="#cb185-9"></a><span class="an">code-fold:</span><span class="co"> false</span></span>
<span id="cb185-10"><a href="#cb185-10"></a><span class="co">---</span></span>
<span id="cb185-11"><a href="#cb185-11"></a></span>
<span id="cb185-12"><a href="#cb185-12"></a>::: {.callout-caution title="Learning Goals"}</span>
<span id="cb185-13"><a href="#cb185-13"></a><span class="ss">-   </span>Review wrangling verbs <span class="in">`select`</span>, <span class="in">`mutate`</span>, <span class="in">`filter`</span>, <span class="in">`arrange`</span>, <span class="in">`summarize`</span>, <span class="in">`group_by`</span></span>
<span id="cb185-14"><a href="#cb185-14"></a><span class="ss">-   </span>Form conceptual understanding of code without running it</span>
<span id="cb185-15"><a href="#cb185-15"></a><span class="ss">-   </span>Practice using wrangling verbs in different way</span>
<span id="cb185-16"><a href="#cb185-16"></a><span class="ss">-   </span>Practice dealing with dates using <span class="in">`lubridate`</span> functions</span>
<span id="cb185-17"><a href="#cb185-17"></a>:::</span>
<span id="cb185-18"><a href="#cb185-18"></a></span>
<span id="cb185-19"><a href="#cb185-19"></a>::: {.callout-note title="Additional Resources"}</span>
<span id="cb185-20"><a href="#cb185-20"></a>For more information about the topics covered in this chapter, refer to the resources below:</span>
<span id="cb185-21"><a href="#cb185-21"></a></span>
<span id="cb185-22"><a href="#cb185-22"></a><span class="ss">-   </span><span class="co">[</span><span class="ot">Date and Times (html)</span><span class="co">](https://r4ds.hadley.nz/datetimes)</span> by Wickham, Çetinkaya-Rundel, &amp; Grolemund </span>
<span id="cb185-23"><a href="#cb185-23"></a>:::</span>
<span id="cb185-24"><a href="#cb185-24"></a></span>
<span id="cb185-25"><a href="#cb185-25"></a></span>
<span id="cb185-26"><a href="#cb185-26"></a></span>
<span id="cb185-27"><a href="#cb185-27"></a><span class="fu">## Review</span></span>
<span id="cb185-28"><a href="#cb185-28"></a></span>
<span id="cb185-29"><a href="#cb185-29"></a></span>
<span id="cb185-30"><a href="#cb185-30"></a><span class="fu">### Data Science Process {-}</span></span>
<span id="cb185-31"><a href="#cb185-31"></a></span>
<span id="cb185-32"><a href="#cb185-32"></a>Below is the visual representation of the data science process we saw earlier.  Which stage are we in currently? </span>
<span id="cb185-33"><a href="#cb185-33"></a></span>
<span id="cb185-34"><a href="#cb185-34"></a><span class="al">![](https://mac-stat.github.io/images/112/legos.png)</span></span>
<span id="cb185-35"><a href="#cb185-35"></a></span>
<span id="cb185-36"><a href="#cb185-36"></a></span>
<span id="cb185-37"><a href="#cb185-37"></a>Recall that wrangling is important. It is much of what we spend our efforts on in Data Science. There are lots of steps, hence R functions, that can go into data wrangling. But we can get far with the following 6 *wrangling verbs*:</span>
<span id="cb185-38"><a href="#cb185-38"></a></span>
<span id="cb185-39"><a href="#cb185-39"></a>| verb        | action                                            |</span>
<span id="cb185-40"><a href="#cb185-40"></a>|:------------|:--------------------------------------------------|</span>
<span id="cb185-41"><a href="#cb185-41"></a>| <span class="in">`arrange`</span>   | **arrange** the *rows* according to some *column* |</span>
<span id="cb185-42"><a href="#cb185-42"></a>| <span class="in">`filter`</span>    | **filter** out or obtain a subset of the *rows*   |</span>
<span id="cb185-43"><a href="#cb185-43"></a>| <span class="in">`select`</span>    | **select** a subset of *columns*                  |</span>
<span id="cb185-44"><a href="#cb185-44"></a>| <span class="in">`mutate`</span>    | **mutate** or create a *column*                   |</span>
<span id="cb185-45"><a href="#cb185-45"></a>| <span class="in">`summarize`</span> | calculate a numerical **summary** of a *column*   |</span>
<span id="cb185-46"><a href="#cb185-46"></a>| <span class="in">`group_by`</span>  | **group** the *rows* by a specified *column*      |</span>
<span id="cb185-47"><a href="#cb185-47"></a></span>
<span id="cb185-48"><a href="#cb185-48"></a><span class="fu">### Example 1: Single Verb {-}</span></span>
<span id="cb185-49"><a href="#cb185-49"></a></span>
<span id="cb185-50"><a href="#cb185-50"></a>Let's start by working with some TidyTuesday data on penguins. This data includes information about penguins' flippers ("arms") and bills ("mouths" or "beaks").  Let's import this using <span class="in">`read_csv()`</span>, a function in the <span class="in">`tidyverse`</span> package. For the most part, this is similar to <span class="in">`read.csv()`</span>, though <span class="in">`read_csv()`</span> can be more efficient at importing large datasets.</span>
<span id="cb185-51"><a href="#cb185-51"></a></span>
<span id="cb185-54"><a href="#cb185-54"></a><span class="in">```{r}</span></span>
<span id="cb185-55"><a href="#cb185-55"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb185-56"><a href="#cb185-56"></a>penguins <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">'https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-07-28/penguins.csv'</span>)</span>
<span id="cb185-57"><a href="#cb185-57"></a></span>
<span id="cb185-58"><a href="#cb185-58"></a><span class="co"># Check it out</span></span>
<span id="cb185-59"><a href="#cb185-59"></a><span class="fu">head</span>(penguins)</span>
<span id="cb185-60"><a href="#cb185-60"></a><span class="in">```</span></span>
<span id="cb185-61"><a href="#cb185-61"></a></span>
<span id="cb185-62"><a href="#cb185-62"></a>::: {.callout-warning title="Check Understanding"}</span>
<span id="cb185-63"><a href="#cb185-63"></a></span>
<span id="cb185-64"><a href="#cb185-64"></a>Construct a plot that allows us to examine how the relationship between body mass and bill length varies by species and sex.</span>
<span id="cb185-65"><a href="#cb185-65"></a></span>
<span id="cb185-66"><a href="#cb185-66"></a>:::</span>
<span id="cb185-67"><a href="#cb185-67"></a></span>
<span id="cb185-70"><a href="#cb185-70"></a><span class="in">```{r}</span></span>
<span id="cb185-71"><a href="#cb185-71"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(<span class="at">x=</span>body_mass_g, <span class="at">y=</span>bill_length_mm, <span class="at">color=</span>species)) <span class="sc">+</span></span>
<span id="cb185-72"><a href="#cb185-72"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb185-73"><a href="#cb185-73"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> sex)</span>
<span id="cb185-74"><a href="#cb185-74"></a><span class="in">```</span></span>
<span id="cb185-75"><a href="#cb185-75"></a></span>
<span id="cb185-76"><a href="#cb185-76"></a></span>
<span id="cb185-77"><a href="#cb185-77"></a></span>
<span id="cb185-78"><a href="#cb185-78"></a>::: {.callout-warning title="Check Understanding"}</span>
<span id="cb185-79"><a href="#cb185-79"></a></span>
<span id="cb185-80"><a href="#cb185-80"></a>Use the 6 wrangling verbs to address each task in the code chunk below.  You can tack on <span class="in">`|&gt; head()`</span> to print out just 6 rows to keep your rendered document manageable. Most of these require just 1 verb.</span>
<span id="cb185-81"><a href="#cb185-81"></a></span>
<span id="cb185-82"><a href="#cb185-82"></a>:::</span>
<span id="cb185-83"><a href="#cb185-83"></a></span>
<span id="cb185-86"><a href="#cb185-86"></a><span class="in">```{r}</span></span>
<span id="cb185-87"><a href="#cb185-87"></a><span class="co"># Get data on only Adelie penguins that weigh more than 4700g</span></span>
<span id="cb185-88"><a href="#cb185-88"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb185-89"><a href="#cb185-89"></a>  <span class="fu">filter</span>(species<span class="sc">==</span><span class="st">"Adelie"</span>, body_mass_g<span class="sc">&gt;</span><span class="dv">4700</span>) <span class="sc">|&gt;</span></span>
<span id="cb185-90"><a href="#cb185-90"></a>  <span class="fu">head</span>()</span>
<span id="cb185-91"><a href="#cb185-91"></a></span>
<span id="cb185-92"><a href="#cb185-92"></a><span class="co"># Get data on penguin body mass only</span></span>
<span id="cb185-93"><a href="#cb185-93"></a><span class="co"># Show just the first 6 rows</span></span>
<span id="cb185-94"><a href="#cb185-94"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb185-95"><a href="#cb185-95"></a>  <span class="fu">select</span>(body_mass_g) <span class="sc">|&gt;</span></span>
<span id="cb185-96"><a href="#cb185-96"></a>  <span class="fu">head</span>()</span>
<span id="cb185-97"><a href="#cb185-97"></a></span>
<span id="cb185-98"><a href="#cb185-98"></a><span class="co"># Sort the penguins from smallest to largest body mass</span></span>
<span id="cb185-99"><a href="#cb185-99"></a><span class="co"># Show just the first 6 rows</span></span>
<span id="cb185-100"><a href="#cb185-100"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb185-101"><a href="#cb185-101"></a>  <span class="fu">arrange</span>(body_mass_g) <span class="sc">|&gt;</span></span>
<span id="cb185-102"><a href="#cb185-102"></a>  <span class="fu">head</span>()</span>
<span id="cb185-103"><a href="#cb185-103"></a></span>
<span id="cb185-104"><a href="#cb185-104"></a></span>
<span id="cb185-105"><a href="#cb185-105"></a><span class="co"># Calculate the average body mass across all penguins</span></span>
<span id="cb185-106"><a href="#cb185-106"></a><span class="co"># Note: na.rm = TRUE removes the NAs from the calculation</span></span>
<span id="cb185-107"><a href="#cb185-107"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb185-108"><a href="#cb185-108"></a>  <span class="fu">summarize</span>(<span class="fu">mean</span>(body_mass_g, <span class="at">na.rm=</span><span class="cn">TRUE</span>))</span>
<span id="cb185-109"><a href="#cb185-109"></a></span>
<span id="cb185-110"><a href="#cb185-110"></a></span>
<span id="cb185-111"><a href="#cb185-111"></a><span class="co"># Calculate the average body mass by species</span></span>
<span id="cb185-112"><a href="#cb185-112"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb185-113"><a href="#cb185-113"></a>  <span class="fu">group_by</span>(species) <span class="sc">|&gt;</span></span>
<span id="cb185-114"><a href="#cb185-114"></a>  <span class="fu">summarize</span>(<span class="at">mean_mass=</span><span class="fu">mean</span>(body_mass_g, <span class="at">na.rm=</span><span class="cn">TRUE</span>))</span>
<span id="cb185-115"><a href="#cb185-115"></a></span>
<span id="cb185-116"><a href="#cb185-116"></a></span>
<span id="cb185-117"><a href="#cb185-117"></a><span class="co"># Create a new column that records body mass in kilograms, not grams</span></span>
<span id="cb185-118"><a href="#cb185-118"></a><span class="co"># </span><span class="al">NOTE</span><span class="co">: there are 1000 g in 1 kg</span></span>
<span id="cb185-119"><a href="#cb185-119"></a><span class="co"># Show just the first 6 rows</span></span>
<span id="cb185-120"><a href="#cb185-120"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb185-121"><a href="#cb185-121"></a>  <span class="fu">mutate</span>(<span class="at">body_mass_kg=</span>(body_mass_g<span class="sc">/</span><span class="dv">1000</span>)) <span class="sc">|&gt;</span></span>
<span id="cb185-122"><a href="#cb185-122"></a>  <span class="fu">head</span>()</span>
<span id="cb185-123"><a href="#cb185-123"></a></span>
<span id="cb185-124"><a href="#cb185-124"></a><span class="in">```</span></span>
<span id="cb185-125"><a href="#cb185-125"></a></span>
<span id="cb185-126"><a href="#cb185-126"></a></span>
<span id="cb185-127"><a href="#cb185-127"></a>::: {.callout-warning title="Check Understanding"}</span>
<span id="cb185-128"><a href="#cb185-128"></a></span>
<span id="cb185-129"><a href="#cb185-129"></a>How many penguins of each species do we have? Create a viz that addresses this question.</span>
<span id="cb185-130"><a href="#cb185-130"></a></span>
<span id="cb185-131"><a href="#cb185-131"></a></span>
<span id="cb185-132"><a href="#cb185-132"></a>:::</span>
<span id="cb185-133"><a href="#cb185-133"></a></span>
<span id="cb185-134"><a href="#cb185-134"></a></span>
<span id="cb185-137"><a href="#cb185-137"></a><span class="in">```{r}</span></span>
<span id="cb185-138"><a href="#cb185-138"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(<span class="at">x =</span> species)) <span class="sc">+</span></span>
<span id="cb185-139"><a href="#cb185-139"></a>  <span class="fu">geom_bar</span>()</span>
<span id="cb185-140"><a href="#cb185-140"></a><span class="in">```</span></span>
<span id="cb185-141"><a href="#cb185-141"></a></span>
<span id="cb185-142"><a href="#cb185-142"></a>::: {.callout-warning title="Check Understanding"}</span>
<span id="cb185-143"><a href="#cb185-143"></a></span>
<span id="cb185-144"><a href="#cb185-144"></a>Can we use the 6 verbs to calculate exactly how many penguins in each species? </span>
<span id="cb185-145"><a href="#cb185-145"></a></span>
<span id="cb185-146"><a href="#cb185-146"></a>HINT: <span class="in">`n()`</span> calculates group size.</span>
<span id="cb185-147"><a href="#cb185-147"></a></span>
<span id="cb185-148"><a href="#cb185-148"></a>:::</span>
<span id="cb185-149"><a href="#cb185-149"></a></span>
<span id="cb185-152"><a href="#cb185-152"></a><span class="in">```{r}</span></span>
<span id="cb185-153"><a href="#cb185-153"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb185-154"><a href="#cb185-154"></a>  <span class="fu">group_by</span>(species) <span class="sc">|&gt;</span></span>
<span id="cb185-155"><a href="#cb185-155"></a>  <span class="fu">summarize</span>(<span class="fu">n</span>())</span>
<span id="cb185-156"><a href="#cb185-156"></a><span class="in">```</span></span>
<span id="cb185-157"><a href="#cb185-157"></a></span>
<span id="cb185-158"><a href="#cb185-158"></a></span>
<span id="cb185-159"><a href="#cb185-159"></a>::: {.callout-tip title="<span class="in">`count`</span> verb"}</span>
<span id="cb185-160"><a href="#cb185-160"></a>The <span class="in">`count()`</span> verb provides a handy shortcut!</span>
<span id="cb185-161"><a href="#cb185-161"></a></span>
<span id="cb185-162"><a href="#cb185-162"></a></span>
<span id="cb185-163"><a href="#cb185-163"></a></span>
<span id="cb185-166"><a href="#cb185-166"></a><span class="in">```{r}</span></span>
<span id="cb185-167"><a href="#cb185-167"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb185-168"><a href="#cb185-168"></a>  <span class="fu">count</span>(species)</span>
<span id="cb185-169"><a href="#cb185-169"></a><span class="in">```</span></span>
<span id="cb185-170"><a href="#cb185-170"></a></span>
<span id="cb185-171"><a href="#cb185-171"></a>:::</span>
<span id="cb185-172"><a href="#cb185-172"></a></span>
<span id="cb185-173"><a href="#cb185-173"></a></span>
<span id="cb185-174"><a href="#cb185-174"></a><span class="fu">### Example 2: Multiple Verbs {-}</span></span>
<span id="cb185-175"><a href="#cb185-175"></a></span>
<span id="cb185-176"><a href="#cb185-176"></a>::: {.callout-warning title="Check Understanding"}</span>
<span id="cb185-177"><a href="#cb185-177"></a></span>
<span id="cb185-178"><a href="#cb185-178"></a>Let's practice *combining* some verbs. For each task:</span>
<span id="cb185-179"><a href="#cb185-179"></a></span>
<span id="cb185-180"><a href="#cb185-180"></a><span class="ss">-   </span>Translate the prompt into our 6 verbs. That is, think before you type.</span>
<span id="cb185-181"><a href="#cb185-181"></a><span class="ss">-   </span>Build your code line by line. It's important to understand what's being piped into each function!</span>
<span id="cb185-182"><a href="#cb185-182"></a><span class="ss">-   </span>Ask what you can rearrange and still get the same result.</span>
<span id="cb185-183"><a href="#cb185-183"></a><span class="ss">-   </span>Read your final code like a paragraph / a conversation. Would another person be able to follow your logic?</span>
<span id="cb185-184"><a href="#cb185-184"></a></span>
<span id="cb185-185"><a href="#cb185-185"></a>:::</span>
<span id="cb185-186"><a href="#cb185-186"></a></span>
<span id="cb185-189"><a href="#cb185-189"></a><span class="in">```{r}</span></span>
<span id="cb185-190"><a href="#cb185-190"></a><span class="co"># Sort Gentoo penguins from biggest to smallest with respect to their </span></span>
<span id="cb185-191"><a href="#cb185-191"></a><span class="co"># bill length in cm (there are 10 mm in a cm)</span></span>
<span id="cb185-192"><a href="#cb185-192"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb185-193"><a href="#cb185-193"></a>  <span class="fu">filter</span>(species<span class="sc">==</span><span class="st">"Gentoo"</span>) <span class="sc">|&gt;</span></span>
<span id="cb185-194"><a href="#cb185-194"></a>  <span class="fu">mutate</span>(<span class="at">bill_length_cm=</span>(bill_length_mm<span class="sc">/</span><span class="dv">10</span>)) <span class="sc">|&gt;</span></span>
<span id="cb185-195"><a href="#cb185-195"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(bill_length_cm))</span>
<span id="cb185-196"><a href="#cb185-196"></a></span>
<span id="cb185-197"><a href="#cb185-197"></a><span class="in">```</span></span>
<span id="cb185-198"><a href="#cb185-198"></a></span>
<span id="cb185-201"><a href="#cb185-201"></a><span class="in">```{r}</span></span>
<span id="cb185-202"><a href="#cb185-202"></a><span class="co"># Sort the species from smallest to biggest with respect to their </span></span>
<span id="cb185-203"><a href="#cb185-203"></a><span class="co"># average bill length in cm</span></span>
<span id="cb185-204"><a href="#cb185-204"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb185-205"><a href="#cb185-205"></a>  <span class="fu">mutate</span>(<span class="at">bill_length_cm=</span>(bill_length_mm<span class="sc">/</span><span class="dv">10</span>)) <span class="sc">|&gt;</span></span>
<span id="cb185-206"><a href="#cb185-206"></a>  <span class="fu">group_by</span>(species) <span class="sc">|&gt;</span></span>
<span id="cb185-207"><a href="#cb185-207"></a>  <span class="fu">summarize</span>(<span class="at">mean_length=</span><span class="fu">mean</span>(bill_length_cm,<span class="at">na.rm=</span><span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb185-208"><a href="#cb185-208"></a>  <span class="fu">arrange</span>(mean_length)</span>
<span id="cb185-209"><a href="#cb185-209"></a><span class="in">```</span></span>
<span id="cb185-210"><a href="#cb185-210"></a></span>
<span id="cb185-211"><a href="#cb185-211"></a></span>
<span id="cb185-212"><a href="#cb185-212"></a></span>
<span id="cb185-213"><a href="#cb185-213"></a><span class="fu">### Example 3: Interpret Code {-}</span></span>
<span id="cb185-214"><a href="#cb185-214"></a></span>
<span id="cb185-215"><a href="#cb185-215"></a>Let's practice reading and making sense of somebody *else*'s code. What do you think this produces?</span>
<span id="cb185-216"><a href="#cb185-216"></a></span>
<span id="cb185-217"><a href="#cb185-217"></a><span class="ss">-   </span>How many columns? Rows?</span>
<span id="cb185-218"><a href="#cb185-218"></a><span class="ss">-   </span>What are the column names?</span>
<span id="cb185-219"><a href="#cb185-219"></a><span class="ss">-   </span>What's represented in each row?</span>
<span id="cb185-220"><a href="#cb185-220"></a></span>
<span id="cb185-221"><a href="#cb185-221"></a>Once you've thought about it, put the code inside a chunk and run it!</span>
<span id="cb185-224"><a href="#cb185-224"></a><span class="in">```{r}</span></span>
<span id="cb185-225"><a href="#cb185-225"></a>penguins <span class="sc">|&gt;</span> <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">"Chinstrap"</span>) <span class="sc">|&gt;</span> <span class="fu">group_by</span>(sex) <span class="sc">|&gt;</span> <span class="fu">summarize</span>(<span class="at">min =</span> <span class="fu">min</span>(body_mass_g), <span class="at">max =</span> <span class="fu">max</span>(body_mass_g)) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">range =</span> max <span class="sc">-</span> min)</span>
<span id="cb185-226"><a href="#cb185-226"></a><span class="in">```</span></span>
<span id="cb185-227"><a href="#cb185-227"></a>\</span>
<span id="cb185-228"><a href="#cb185-228"></a>\</span>
<span id="cb185-229"><a href="#cb185-229"></a>\</span>
<span id="cb185-230"><a href="#cb185-230"></a>\</span>
<span id="cb185-231"><a href="#cb185-231"></a></span>
<span id="cb185-232"><a href="#cb185-232"></a><span class="fu">## Exercises Part 1: Same Verbs, New Tricks</span></span>
<span id="cb185-233"><a href="#cb185-233"></a></span>
<span id="cb185-234"><a href="#cb185-234"></a></span>
<span id="cb185-235"><a href="#cb185-235"></a><span class="fu">### Exercise 1: More Filtering {.unnumbered}</span></span>
<span id="cb185-236"><a href="#cb185-236"></a></span>
<span id="cb185-237"><a href="#cb185-237"></a>Recall the "logical comparison operators" we can use to <span class="in">`filter()`</span> our data:</span>
<span id="cb185-238"><a href="#cb185-238"></a></span>
<span id="cb185-239"><a href="#cb185-239"></a>| symbol           | meaning                   |</span>
<span id="cb185-240"><a href="#cb185-240"></a>|:-----------------|:--------------------------|</span>
<span id="cb185-241"><a href="#cb185-241"></a>| <span class="in">`==`</span>               | equal to                  |</span>
<span id="cb185-242"><a href="#cb185-242"></a>| <span class="in">`!=`</span>               | not equal to              |</span>
<span id="cb185-243"><a href="#cb185-243"></a>| <span class="in">`&gt;`</span>               | greater than              |</span>
<span id="cb185-244"><a href="#cb185-244"></a>| <span class="in">`&gt;=`</span>              | greater than or equal to  |</span>
<span id="cb185-245"><a href="#cb185-245"></a>| <span class="in">`&lt;`</span>               | less than                 |</span>
<span id="cb185-246"><a href="#cb185-246"></a>| <span class="in">`&lt;=`</span>              | less than or equal to     |</span>
<span id="cb185-247"><a href="#cb185-247"></a>| <span class="in">`%in% c(***, ***)`</span> | a list of multiple values |</span>
<span id="cb185-248"><a href="#cb185-248"></a></span>
<span id="cb185-249"><a href="#cb185-249"></a><span class="fu">#### Part a {.unnumbered}</span></span>
<span id="cb185-250"><a href="#cb185-250"></a></span>
<span id="cb185-251"><a href="#cb185-251"></a>::: {.callout-tip title="Commenting/Uncommenting Code"}</span>
<span id="cb185-252"><a href="#cb185-252"></a></span>
<span id="cb185-253"><a href="#cb185-253"></a>To comment/uncomment several lines of code at once, highlight them then click &lt;kbd&gt;ctrl/cmd&lt;/kbd&gt;+&lt;kbd&gt;shift&lt;/kbd&gt;+&lt;kbd&gt;c&lt;/kbd&gt;.</span>
<span id="cb185-254"><a href="#cb185-254"></a></span>
<span id="cb185-255"><a href="#cb185-255"></a>:::</span>
<span id="cb185-256"><a href="#cb185-256"></a></span>
<span id="cb185-259"><a href="#cb185-259"></a><span class="in">```{r}</span></span>
<span id="cb185-260"><a href="#cb185-260"></a><span class="co"># Create a dataset with just Adelie and Chinstrap using %in%</span></span>
<span id="cb185-261"><a href="#cb185-261"></a><span class="co"># Pipe this into `count(species)` to confirm that you only have these 2 species</span></span>
<span id="cb185-262"><a href="#cb185-262"></a> penguins <span class="sc">|&gt;</span> </span>
<span id="cb185-263"><a href="#cb185-263"></a>   <span class="fu">filter</span>(species <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Adelie"</span>,<span class="st">"Chinstrap"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb185-264"><a href="#cb185-264"></a>   <span class="fu">count</span>(species)</span>
<span id="cb185-265"><a href="#cb185-265"></a><span class="in">```</span></span>
<span id="cb185-266"><a href="#cb185-266"></a></span>
<span id="cb185-269"><a href="#cb185-269"></a><span class="in">```{r}</span></span>
<span id="cb185-270"><a href="#cb185-270"></a><span class="co"># Create a dataset with just Adelie and Chinstrap using !=</span></span>
<span id="cb185-271"><a href="#cb185-271"></a><span class="co"># Pipe this into `count(species)` to confirm that you only have these 2 species</span></span>
<span id="cb185-272"><a href="#cb185-272"></a> penguins <span class="sc">|&gt;</span> </span>
<span id="cb185-273"><a href="#cb185-273"></a>   <span class="fu">filter</span>(species<span class="sc">!=</span><span class="st">"Gentoo"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb185-274"><a href="#cb185-274"></a>   <span class="fu">count</span>(species)</span>
<span id="cb185-275"><a href="#cb185-275"></a><span class="in">```</span></span>
<span id="cb185-276"><a href="#cb185-276"></a></span>
<span id="cb185-277"><a href="#cb185-277"></a><span class="fu">#### Part b {.unnumbered}</span></span>
<span id="cb185-278"><a href="#cb185-278"></a></span>
<span id="cb185-279"><a href="#cb185-279"></a>Notice that some of our penguins have missing (<span class="in">`NA`</span>) data on some values:</span>
<span id="cb185-280"><a href="#cb185-280"></a></span>
<span id="cb185-283"><a href="#cb185-283"></a><span class="in">```{r}</span></span>
<span id="cb185-284"><a href="#cb185-284"></a><span class="fu">head</span>(penguins)</span>
<span id="cb185-285"><a href="#cb185-285"></a><span class="in">```</span></span>
<span id="cb185-286"><a href="#cb185-286"></a></span>
<span id="cb185-287"><a href="#cb185-287"></a>::: {.callout-tip title="Handeling <span class="in">`NA`</span> Values"}</span>
<span id="cb185-288"><a href="#cb185-288"></a></span>
<span id="cb185-289"><a href="#cb185-289"></a>There are many ways to handle missing data. The right approach depends upon your research goals. A general rule is: Only get rid of observations with missing data if they're missing data on variables you *need* for the specific task at hand!</span>
<span id="cb185-290"><a href="#cb185-290"></a></span>
<span id="cb185-291"><a href="#cb185-291"></a>:::</span>
<span id="cb185-292"><a href="#cb185-292"></a></span>
<span id="cb185-293"><a href="#cb185-293"></a>**Example 1**</span>
<span id="cb185-294"><a href="#cb185-294"></a></span>
<span id="cb185-295"><a href="#cb185-295"></a>Suppose our research focus is *just* on <span class="in">`body_mass_g`</span>. Two penguins are missing this info:</span>
<span id="cb185-296"><a href="#cb185-296"></a></span>
<span id="cb185-299"><a href="#cb185-299"></a><span class="in">```{r}</span></span>
<span id="cb185-300"><a href="#cb185-300"></a><span class="co"># </span><span class="al">NOTE</span><span class="co"> the use of is.na()</span></span>
<span id="cb185-301"><a href="#cb185-301"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb185-302"><a href="#cb185-302"></a>  <span class="fu">summarize</span>(<span class="fu">sum</span>(<span class="fu">is.na</span>(body_mass_g)))</span>
<span id="cb185-303"><a href="#cb185-303"></a><span class="in">```</span></span>
<span id="cb185-304"><a href="#cb185-304"></a></span>
<span id="cb185-305"><a href="#cb185-305"></a>Let's define a new dataset that removes these penguins:</span>
<span id="cb185-306"><a href="#cb185-306"></a></span>
<span id="cb185-309"><a href="#cb185-309"></a><span class="in">```{r}</span></span>
<span id="cb185-310"><a href="#cb185-310"></a><span class="co"># </span><span class="al">NOTE</span><span class="co"> the use of is.na()</span></span>
<span id="cb185-311"><a href="#cb185-311"></a>penguins_w_body_mass <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> </span>
<span id="cb185-312"><a href="#cb185-312"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(body_mass_g))</span>
<span id="cb185-313"><a href="#cb185-313"></a></span>
<span id="cb185-314"><a href="#cb185-314"></a><span class="co"># Compare the number of penguins in this vs the original data</span></span>
<span id="cb185-315"><a href="#cb185-315"></a><span class="fu">nrow</span>(penguins_w_body_mass)</span>
<span id="cb185-316"><a href="#cb185-316"></a><span class="fu">nrow</span>(penguins)</span>
<span id="cb185-317"><a href="#cb185-317"></a><span class="in">```</span></span>
<span id="cb185-318"><a href="#cb185-318"></a></span>
<span id="cb185-319"><a href="#cb185-319"></a>Note that some penguins in <span class="in">`penguins_w_body_mass`</span> are missing info on <span class="in">`sex`</span>, but we don't care since that's not related to our research question:</span>
<span id="cb185-320"><a href="#cb185-320"></a></span>
<span id="cb185-323"><a href="#cb185-323"></a><span class="in">```{r}</span></span>
<span id="cb185-324"><a href="#cb185-324"></a>penguins_w_body_mass <span class="sc">|&gt;</span> </span>
<span id="cb185-325"><a href="#cb185-325"></a>  <span class="fu">summarize</span>(<span class="fu">sum</span>(<span class="fu">is.na</span>(sex)))</span>
<span id="cb185-326"><a href="#cb185-326"></a><span class="in">```</span></span>
<span id="cb185-327"><a href="#cb185-327"></a></span>
<span id="cb185-328"><a href="#cb185-328"></a>**Example 2**</span>
<span id="cb185-329"><a href="#cb185-329"></a></span>
<span id="cb185-330"><a href="#cb185-330"></a>In the *very rare case* that we need complete information on every variable for the specific task at hand, we can use `na.omit()` to get rid of *any* penguin that's missing info on *any* variable:</span>
<span id="cb185-331"><a href="#cb185-331"></a></span>
<span id="cb185-334"><a href="#cb185-334"></a><span class="in">```{r}</span></span>
<span id="cb185-335"><a href="#cb185-335"></a>penguins_complete <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> </span>
<span id="cb185-336"><a href="#cb185-336"></a>  <span class="fu">na.omit</span>()</span>
<span id="cb185-337"><a href="#cb185-337"></a><span class="in">```</span></span>
<span id="cb185-338"><a href="#cb185-338"></a></span>
<span id="cb185-339"><a href="#cb185-339"></a>How many penguins did this eliminate?</span>
<span id="cb185-340"><a href="#cb185-340"></a></span>
<span id="cb185-343"><a href="#cb185-343"></a><span class="in">```{r}</span></span>
<span id="cb185-344"><a href="#cb185-344"></a><span class="fu">nrow</span>(penguins_complete)</span>
<span id="cb185-345"><a href="#cb185-345"></a><span class="fu">nrow</span>(penguins)</span>
<span id="cb185-346"><a href="#cb185-346"></a><span class="in">```</span></span>
<span id="cb185-347"><a href="#cb185-347"></a></span>
<span id="cb185-348"><a href="#cb185-348"></a><span class="fu">#### Part c {.unnumbered}</span></span>
<span id="cb185-349"><a href="#cb185-349"></a></span>
<span id="cb185-350"><a href="#cb185-350"></a>Explain why we should only use <span class="in">`na.omit()`</span> in extreme circumstances.</span>
<span id="cb185-351"><a href="#cb185-351"></a></span>
<span id="cb185-352"><a href="#cb185-352"></a>\ Because it can dramatically cut down the amount of data we have, and remove crucial points, even if the places where the NA are are not relevant to analysis</span>
<span id="cb185-353"><a href="#cb185-353"></a>\</span>
<span id="cb185-354"><a href="#cb185-354"></a>\</span>
<span id="cb185-355"><a href="#cb185-355"></a>\</span>
<span id="cb185-356"><a href="#cb185-356"></a></span>
<span id="cb185-357"><a href="#cb185-357"></a><span class="fu">### Exercise 2: More Selecting {.unnumbered}</span></span>
<span id="cb185-358"><a href="#cb185-358"></a></span>
<span id="cb185-359"><a href="#cb185-359"></a>Being able to <span class="in">`select()`</span> only certain columns can help simplify our data. This is especially important when we're working with *lots* of columns (which we haven't done yet). It can also get tedious to type out every column of interest. Here are some shortcuts:</span>
<span id="cb185-360"><a href="#cb185-360"></a></span>
<span id="cb185-361"><a href="#cb185-361"></a><span class="ss">-   </span><span class="in">`-`</span> *removes* a given variable and keeps all others (e.g. <span class="in">`select(-island)`</span>)</span>
<span id="cb185-362"><a href="#cb185-362"></a><span class="ss">-   </span><span class="in">`starts_with("___")`</span>, <span class="in">`ends_with("___")`</span>, or <span class="in">`contains("___")`</span> selects only the columns that either start with, end with, or simply contain the given string of characters</span>
<span id="cb185-363"><a href="#cb185-363"></a></span>
<span id="cb185-364"><a href="#cb185-364"></a>Use these *shortcuts* to create the following datasets.</span>
<span id="cb185-365"><a href="#cb185-365"></a></span>
<span id="cb185-368"><a href="#cb185-368"></a><span class="in">```{r}</span></span>
<span id="cb185-369"><a href="#cb185-369"></a><span class="co"># First: recall the variable names</span></span>
<span id="cb185-370"><a href="#cb185-370"></a><span class="fu">names</span>(penguins)</span>
<span id="cb185-371"><a href="#cb185-371"></a><span class="in">```</span></span>
<span id="cb185-372"><a href="#cb185-372"></a></span>
<span id="cb185-375"><a href="#cb185-375"></a><span class="in">```{r}</span></span>
<span id="cb185-376"><a href="#cb185-376"></a><span class="co"># Use a shortcut to keep everything but the year and island variables</span></span>
<span id="cb185-377"><a href="#cb185-377"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb185-378"><a href="#cb185-378"></a>  <span class="fu">select</span>(<span class="sc">-</span>island,<span class="sc">-</span>year)</span>
<span id="cb185-379"><a href="#cb185-379"></a></span>
<span id="cb185-380"><a href="#cb185-380"></a><span class="in">```</span></span>
<span id="cb185-381"><a href="#cb185-381"></a></span>
<span id="cb185-384"><a href="#cb185-384"></a><span class="in">```{r}</span></span>
<span id="cb185-385"><a href="#cb185-385"></a><span class="co"># Use a shortcut to keep only species and the penguin characteristics measured in mm</span></span>
<span id="cb185-386"><a href="#cb185-386"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb185-387"><a href="#cb185-387"></a>  <span class="fu">select</span>(species,<span class="fu">ends_with</span>(<span class="st">"mm"</span>))</span>
<span id="cb185-388"><a href="#cb185-388"></a></span>
<span id="cb185-389"><a href="#cb185-389"></a><span class="in">```</span></span>
<span id="cb185-390"><a href="#cb185-390"></a></span>
<span id="cb185-393"><a href="#cb185-393"></a><span class="in">```{r}</span></span>
<span id="cb185-394"><a href="#cb185-394"></a><span class="co"># Use a shortcut to keep only species and bill-related measurements</span></span>
<span id="cb185-395"><a href="#cb185-395"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb185-396"><a href="#cb185-396"></a>  <span class="fu">select</span>(species,<span class="fu">starts_with</span>(<span class="st">"bill"</span>))</span>
<span id="cb185-397"><a href="#cb185-397"></a></span>
<span id="cb185-398"><a href="#cb185-398"></a><span class="in">```</span></span>
<span id="cb185-399"><a href="#cb185-399"></a></span>
<span id="cb185-402"><a href="#cb185-402"></a><span class="in">```{r}</span></span>
<span id="cb185-403"><a href="#cb185-403"></a><span class="co"># Use a shortcut to keep only species and the length-related characteristics</span></span>
<span id="cb185-404"><a href="#cb185-404"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb185-405"><a href="#cb185-405"></a>  <span class="fu">select</span>(species,<span class="fu">contains</span>(<span class="st">"length"</span>))</span>
<span id="cb185-406"><a href="#cb185-406"></a></span>
<span id="cb185-407"><a href="#cb185-407"></a><span class="in">```</span></span>
<span id="cb185-408"><a href="#cb185-408"></a></span>
<span id="cb185-409"><a href="#cb185-409"></a>\</span>
<span id="cb185-410"><a href="#cb185-410"></a>\</span>
<span id="cb185-411"><a href="#cb185-411"></a>\</span>
<span id="cb185-412"><a href="#cb185-412"></a>\</span>
<span id="cb185-413"><a href="#cb185-413"></a></span>
<span id="cb185-414"><a href="#cb185-414"></a><span class="fu">### Exercise 3: Arranging, Counting, &amp; Grouping by Multiple Variables {.unnumbered}</span></span>
<span id="cb185-415"><a href="#cb185-415"></a></span>
<span id="cb185-416"><a href="#cb185-416"></a>We've done examples where we need to <span class="in">`filter()`</span> by more than one variable, or <span class="in">`select()`</span> more than one variable. Use your intuition for how we can <span class="in">`arrange()`</span>, <span class="in">`count()`</span>, and <span class="in">`group_by()`</span> more than one variable.</span>
<span id="cb185-417"><a href="#cb185-417"></a></span>
<span id="cb185-420"><a href="#cb185-420"></a><span class="in">```{r}</span></span>
<span id="cb185-421"><a href="#cb185-421"></a><span class="co"># Change this code to sort the penguins by species, and then island name</span></span>
<span id="cb185-422"><a href="#cb185-422"></a><span class="co"># </span><span class="al">NOTE</span><span class="co">: The first row should be an Adelie penguin living on Biscoe island</span></span>
<span id="cb185-423"><a href="#cb185-423"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb185-424"><a href="#cb185-424"></a>  <span class="fu">arrange</span>(species,island)</span>
<span id="cb185-425"><a href="#cb185-425"></a><span class="in">```</span></span>
<span id="cb185-426"><a href="#cb185-426"></a></span>
<span id="cb185-429"><a href="#cb185-429"></a><span class="in">```{r}</span></span>
<span id="cb185-430"><a href="#cb185-430"></a><span class="co"># Change this code to count the number of male/female penguins observed for each species</span></span>
<span id="cb185-431"><a href="#cb185-431"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb185-432"><a href="#cb185-432"></a>  <span class="fu">count</span>(species, sex)</span>
<span id="cb185-433"><a href="#cb185-433"></a><span class="in">```</span></span>
<span id="cb185-434"><a href="#cb185-434"></a></span>
<span id="cb185-437"><a href="#cb185-437"></a><span class="in">```{r}</span></span>
<span id="cb185-438"><a href="#cb185-438"></a><span class="co"># Change this code to calculate the average body mass by species and sex</span></span>
<span id="cb185-439"><a href="#cb185-439"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb185-440"><a href="#cb185-440"></a>  <span class="fu">group_by</span>(species, sex) <span class="sc">|&gt;</span> </span>
<span id="cb185-441"><a href="#cb185-441"></a>  <span class="fu">summarize</span>(<span class="at">mean =</span> <span class="fu">mean</span>(body_mass_g, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb185-442"><a href="#cb185-442"></a>  </span>
<span id="cb185-443"><a href="#cb185-443"></a><span class="in">```</span></span>
<span id="cb185-444"><a href="#cb185-444"></a></span>
<span id="cb185-445"><a href="#cb185-445"></a>\</span>
<span id="cb185-446"><a href="#cb185-446"></a>\</span>
<span id="cb185-447"><a href="#cb185-447"></a>\</span>
<span id="cb185-448"><a href="#cb185-448"></a>\</span>
<span id="cb185-449"><a href="#cb185-449"></a></span>
<span id="cb185-450"><a href="#cb185-450"></a><span class="fu">### Exercise 4: Dates {.unnumbered}</span></span>
<span id="cb185-451"><a href="#cb185-451"></a></span>
<span id="cb185-452"><a href="#cb185-452"></a>Before some wrangling practice, let's explore another important concept: working with or mutating *date* variables. Dates are a whole special object type or class in R that automatically respect the order of time.</span>
<span id="cb185-453"><a href="#cb185-453"></a></span>
<span id="cb185-456"><a href="#cb185-456"></a><span class="in">```{r}</span></span>
<span id="cb185-457"><a href="#cb185-457"></a><span class="co"># Get today's date</span></span>
<span id="cb185-458"><a href="#cb185-458"></a><span class="fu">as.Date</span>(<span class="fu">today</span>())</span>
<span id="cb185-459"><a href="#cb185-459"></a></span>
<span id="cb185-460"><a href="#cb185-460"></a><span class="co"># Let's store this as "today" so we can work with it below</span></span>
<span id="cb185-461"><a href="#cb185-461"></a>today <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="fu">today</span>())</span>
<span id="cb185-462"><a href="#cb185-462"></a></span>
<span id="cb185-463"><a href="#cb185-463"></a><span class="co"># Check out the class of this object</span></span>
<span id="cb185-464"><a href="#cb185-464"></a><span class="fu">class</span>(today)</span>
<span id="cb185-465"><a href="#cb185-465"></a><span class="in">```</span></span>
<span id="cb185-466"><a href="#cb185-466"></a></span>
<span id="cb185-467"><a href="#cb185-467"></a>The <span class="in">`lubridate`</span> package inside <span class="in">`tidyverse`</span> contains functions that can extract various information from dates. Let's learn about some of the most common functions by applying them to <span class="in">`today`</span>. For each, make a comment on what the function does</span>
<span id="cb185-468"><a href="#cb185-468"></a></span>
<span id="cb185-471"><a href="#cb185-471"></a><span class="in">```{r}</span></span>
<span id="cb185-472"><a href="#cb185-472"></a><span class="fu">year</span>(today)</span>
<span id="cb185-473"><a href="#cb185-473"></a><span class="co">#year() extracts the year from the date, as a number</span></span>
<span id="cb185-474"><a href="#cb185-474"></a><span class="in">```</span></span>
<span id="cb185-475"><a href="#cb185-475"></a></span>
<span id="cb185-478"><a href="#cb185-478"></a><span class="in">```{r}</span></span>
<span id="cb185-479"><a href="#cb185-479"></a><span class="co"># What do these lines produce / what's their difference?</span></span>
<span id="cb185-480"><a href="#cb185-480"></a><span class="co">#month() extracts the month from a date as a number, while month(label=TRUE) extracts it as a 3 letter abbreviation of the month name, specifically, as an ordinal factor</span></span>
<span id="cb185-481"><a href="#cb185-481"></a><span class="fu">month</span>(today)</span>
<span id="cb185-482"><a href="#cb185-482"></a><span class="fu">month</span>(today, <span class="at">label =</span> <span class="cn">TRUE</span>)</span>
<span id="cb185-483"><a href="#cb185-483"></a><span class="fu">month</span>(today, <span class="at">label =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> <span class="fu">class</span>()</span>
<span id="cb185-484"><a href="#cb185-484"></a><span class="in">```</span></span>
<span id="cb185-485"><a href="#cb185-485"></a></span>
<span id="cb185-488"><a href="#cb185-488"></a><span class="in">```{r}</span></span>
<span id="cb185-489"><a href="#cb185-489"></a><span class="co"># What does this number mean?</span></span>
<span id="cb185-490"><a href="#cb185-490"></a><span class="co">#week() records how many weeks have passed in the year, but it conflicts with things like a googled ISO recording of week number, which counts any week that at least includes thursday. it may only count "full" weeks starting on sunday.</span></span>
<span id="cb185-491"><a href="#cb185-491"></a><span class="fu">week</span>(today)</span>
<span id="cb185-492"><a href="#cb185-492"></a><span class="in">```</span></span>
<span id="cb185-493"><a href="#cb185-493"></a></span>
<span id="cb185-496"><a href="#cb185-496"></a><span class="in">```{r}</span></span>
<span id="cb185-497"><a href="#cb185-497"></a><span class="co"># What do these lines produce / what's their difference?</span></span>
<span id="cb185-498"><a href="#cb185-498"></a><span class="co">#mday() extracts the day of the month, and yday() extracts the day of the year</span></span>
<span id="cb185-499"><a href="#cb185-499"></a><span class="fu">mday</span>(today)</span>
<span id="cb185-500"><a href="#cb185-500"></a><span class="fu">yday</span>(today)  <span class="co"># This is often called the "Julian day"</span></span>
<span id="cb185-501"><a href="#cb185-501"></a><span class="in">```</span></span>
<span id="cb185-502"><a href="#cb185-502"></a></span>
<span id="cb185-505"><a href="#cb185-505"></a><span class="in">```{r}</span></span>
<span id="cb185-506"><a href="#cb185-506"></a><span class="co"># What do these lines produce / what's their difference?</span></span>
<span id="cb185-507"><a href="#cb185-507"></a><span class="co">#wday() extracts the number of the day of the week, if we consider a week as starting on sunday, while wday(label=TRUE) extracts the day of the week as a 3 letter abbreviation, again an ordinal factor</span></span>
<span id="cb185-508"><a href="#cb185-508"></a><span class="fu">wday</span>(today)</span>
<span id="cb185-509"><a href="#cb185-509"></a><span class="fu">wday</span>(today, <span class="at">label =</span> <span class="cn">TRUE</span>)</span>
<span id="cb185-510"><a href="#cb185-510"></a><span class="fu">wday</span>(today, <span class="at">label =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> <span class="fu">class</span>()</span>
<span id="cb185-511"><a href="#cb185-511"></a><span class="in">```</span></span>
<span id="cb185-512"><a href="#cb185-512"></a></span>
<span id="cb185-515"><a href="#cb185-515"></a><span class="in">```{r}</span></span>
<span id="cb185-516"><a href="#cb185-516"></a><span class="co"># What do the results of these 2 lines tell us?</span></span>
<span id="cb185-517"><a href="#cb185-517"></a><span class="co">#that dates are considered greater than eachother if they come after eachother</span></span>
<span id="cb185-518"><a href="#cb185-518"></a>today <span class="sc">&gt;=</span> <span class="fu">ymd</span>(<span class="st">"2024-02-14"</span>)</span>
<span id="cb185-519"><a href="#cb185-519"></a>today <span class="sc">&lt;</span> <span class="fu">ymd</span>(<span class="st">"2024-02-14"</span>)</span>
<span id="cb185-520"><a href="#cb185-520"></a><span class="in">```</span></span>
<span id="cb185-521"><a href="#cb185-521"></a></span>
<span id="cb185-522"><a href="#cb185-522"></a>\</span>
<span id="cb185-523"><a href="#cb185-523"></a>\</span>
<span id="cb185-524"><a href="#cb185-524"></a>\</span>
<span id="cb185-525"><a href="#cb185-525"></a>\</span>
<span id="cb185-526"><a href="#cb185-526"></a></span>
<span id="cb185-527"><a href="#cb185-527"></a><span class="fu">## Exercises Part 2: Application</span></span>
<span id="cb185-528"><a href="#cb185-528"></a></span>
<span id="cb185-529"><a href="#cb185-529"></a>The remaining exercises are *similar* to some of those on the homework.  Hence, the solutions are not provided. Let's apply these ideas to the daily <span class="in">`Birthdays`</span> dataset in the <span class="in">`mosaic`</span> package.</span>
<span id="cb185-530"><a href="#cb185-530"></a></span>
<span id="cb185-533"><a href="#cb185-533"></a><span class="in">```{r}</span></span>
<span id="cb185-534"><a href="#cb185-534"></a><span class="fu">library</span>(mosaic)</span>
<span id="cb185-535"><a href="#cb185-535"></a><span class="fu">data</span>(<span class="st">"Birthdays"</span>)</span>
<span id="cb185-536"><a href="#cb185-536"></a><span class="fu">head</span>(Birthdays)</span>
<span id="cb185-537"><a href="#cb185-537"></a><span class="in">```</span></span>
<span id="cb185-538"><a href="#cb185-538"></a></span>
<span id="cb185-539"><a href="#cb185-539"></a><span class="in">`Birthdays`</span> gives the number of births recorded on each day of the year in each state from 1969 to 1988^<span class="co">[</span><span class="ot">The `fivethirtyeight` package has more recent data.</span><span class="co">]</span>. We can use our wrangling skills to understand some drivers of daily births. Putting these all together can be challenging! Remember the following ways to make tasks more manageable:</span>
<span id="cb185-540"><a href="#cb185-540"></a></span>
<span id="cb185-541"><a href="#cb185-541"></a><span class="ss">-   </span>Translate the prompt into our 6 verbs (and <span class="in">`count()`</span>). That is, think before you type.</span>
<span id="cb185-542"><a href="#cb185-542"></a><span class="ss">-   </span>Build your code line by line. It's important to understand what's being piped into each function!</span>
<span id="cb185-543"><a href="#cb185-543"></a></span>
<span id="cb185-544"><a href="#cb185-544"></a></span>
<span id="cb185-545"><a href="#cb185-545"></a></span>
<span id="cb185-546"><a href="#cb185-546"></a></span>
<span id="cb185-547"><a href="#cb185-547"></a></span>
<span id="cb185-548"><a href="#cb185-548"></a><span class="fu">### Exercise 5: Warming up {.unnumbered}</span></span>
<span id="cb185-549"><a href="#cb185-549"></a></span>
<span id="cb185-552"><a href="#cb185-552"></a><span class="in">```{r}</span></span>
<span id="cb185-553"><a href="#cb185-553"></a><span class="co"># How many days of data do we have for each state?</span></span>
<span id="cb185-554"><a href="#cb185-554"></a>Birthdays <span class="sc">|&gt;</span></span>
<span id="cb185-555"><a href="#cb185-555"></a>  <span class="fu">group_by</span>(state) <span class="sc">|&gt;</span></span>
<span id="cb185-556"><a href="#cb185-556"></a>  <span class="fu">count</span>()</span>
<span id="cb185-557"><a href="#cb185-557"></a></span>
<span id="cb185-558"><a href="#cb185-558"></a><span class="co"># How many total births were there in this time period?</span></span>
<span id="cb185-559"><a href="#cb185-559"></a>Birthdays <span class="sc">|&gt;</span></span>
<span id="cb185-560"><a href="#cb185-560"></a>  <span class="fu">summarize</span>(<span class="fu">sum</span>(births))</span>
<span id="cb185-561"><a href="#cb185-561"></a></span>
<span id="cb185-562"><a href="#cb185-562"></a><span class="co"># How many total births were there per state in this time period, sorted from low to high?</span></span>
<span id="cb185-563"><a href="#cb185-563"></a>Birthdays <span class="sc">|&gt;</span></span>
<span id="cb185-564"><a href="#cb185-564"></a>  <span class="fu">group_by</span>(state) <span class="sc">|&gt;</span></span>
<span id="cb185-565"><a href="#cb185-565"></a>  <span class="fu">summarize</span>(<span class="at">total=</span><span class="fu">sum</span>(births)) <span class="sc">|&gt;</span></span>
<span id="cb185-566"><a href="#cb185-566"></a>  <span class="fu">arrange</span>(total)</span>
<span id="cb185-567"><a href="#cb185-567"></a></span>
<span id="cb185-568"><a href="#cb185-568"></a></span>
<span id="cb185-569"><a href="#cb185-569"></a><span class="in">```</span></span>
<span id="cb185-570"><a href="#cb185-570"></a></span>
<span id="cb185-571"><a href="#cb185-571"></a></span>
<span id="cb185-572"><a href="#cb185-572"></a></span>
<span id="cb185-573"><a href="#cb185-573"></a><span class="fu">### Exercise 6: Homework Reprise {.unnumbered}</span></span>
<span id="cb185-574"><a href="#cb185-574"></a></span>
<span id="cb185-575"><a href="#cb185-575"></a>Create a new dataset named <span class="in">`daily_births`</span> that includes the total number of births per day (across all states) and the corresponding day of the week, eg, Mon. NOTE: Name the column with total births so that it's easier to wrangle and plot.</span>
<span id="cb185-576"><a href="#cb185-576"></a></span>
<span id="cb185-579"><a href="#cb185-579"></a><span class="in">```{r}</span></span>
<span id="cb185-580"><a href="#cb185-580"></a>daily_births <span class="ot">&lt;-</span> Birthdays <span class="sc">|&gt;</span></span>
<span id="cb185-581"><a href="#cb185-581"></a>  <span class="fu">group_by</span>(date, wday) <span class="sc">|&gt;</span></span>
<span id="cb185-582"><a href="#cb185-582"></a>  <span class="fu">summarize</span>(<span class="at">usbirths=</span><span class="fu">sum</span>(births))</span>
<span id="cb185-583"><a href="#cb185-583"></a>  daily_births</span>
<span id="cb185-584"><a href="#cb185-584"></a><span class="in">```</span></span>
<span id="cb185-585"><a href="#cb185-585"></a></span>
<span id="cb185-586"><a href="#cb185-586"></a>Using this data, construct a plot of <span class="in">`births`</span> over time, indicating the day of week.</span>
<span id="cb185-587"><a href="#cb185-587"></a></span>
<span id="cb185-590"><a href="#cb185-590"></a><span class="in">```{r}</span></span>
<span id="cb185-591"><a href="#cb185-591"></a><span class="fu">ggplot</span>(daily_births, <span class="fu">aes</span>(<span class="at">x=</span>date,<span class="at">y=</span>usbirths,<span class="at">color=</span>wday)) <span class="sc">+</span></span>
<span id="cb185-592"><a href="#cb185-592"></a>  <span class="fu">geom_point</span>()</span>
<span id="cb185-593"><a href="#cb185-593"></a><span class="in">```</span></span>
<span id="cb185-594"><a href="#cb185-594"></a></span>
<span id="cb185-595"><a href="#cb185-595"></a></span>
<span id="cb185-596"><a href="#cb185-596"></a></span>
<span id="cb185-597"><a href="#cb185-597"></a><span class="fu">### Exercise 7: Wrangle &amp; Plot {.unnumbered}</span></span>
<span id="cb185-598"><a href="#cb185-598"></a></span>
<span id="cb185-599"><a href="#cb185-599"></a>For each prompt below, you can decide whether you want to: (1) wrangle and store data, then plot; or (2) wrangle data and pipe directly into ggplot. For example:</span>
<span id="cb185-600"><a href="#cb185-600"></a></span>
<span id="cb185-603"><a href="#cb185-603"></a><span class="in">```{r}</span></span>
<span id="cb185-604"><a href="#cb185-604"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb185-605"><a href="#cb185-605"></a>  <span class="fu">filter</span>(species <span class="sc">!=</span> <span class="st">"Gentoo"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb185-606"><a href="#cb185-606"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> bill_length_mm, <span class="at">x =</span> bill_depth_mm, <span class="at">color =</span> species)) <span class="sc">+</span> </span>
<span id="cb185-607"><a href="#cb185-607"></a>    <span class="fu">geom_point</span>()</span>
<span id="cb185-608"><a href="#cb185-608"></a><span class="in">```</span></span>
<span id="cb185-609"><a href="#cb185-609"></a></span>
<span id="cb185-610"><a href="#cb185-610"></a><span class="fu">#### Part a {.unnumbered}</span></span>
<span id="cb185-611"><a href="#cb185-611"></a></span>
<span id="cb185-612"><a href="#cb185-612"></a>Calculate the total number of births in each month and year, eg, Jan 1969, Feb 1969, .... Label month by names not numbers, eg, Jan not 1. Then, plot the births by month and comment on what you learn.</span>
<span id="cb185-613"><a href="#cb185-613"></a>::: {.callout-tip title="Xtra notes on Dates and (Ordered) Factors"}</span>
<span id="cb185-614"><a href="#cb185-614"></a>You can use as.Date() to change character or numeric strings into dates!</span>
<span id="cb185-615"><a href="#cb185-615"></a>~~Still looking on how to combine ordinal factors, though (and change integers thereof?)~~</span>
<span id="cb185-616"><a href="#cb185-616"></a>It's fairly difficult to combine ordered factors but the forcats package should be of some help. The fct_c() and *fct_cross()* functions are for just that! https://forcats.tidyverse.org/reference/index.html </span>
<span id="cb185-617"><a href="#cb185-617"></a>To actually make the integer year into a ordered factor is a whole other problem, but involves the native r functions factor() or ordered()</span>
<span id="cb185-618"><a href="#cb185-618"></a>:::</span>
<span id="cb185-621"><a href="#cb185-621"></a><span class="in">```{r}</span></span>
<span id="cb185-622"><a href="#cb185-622"></a><span class="fu">library</span>(ggridges)</span>
<span id="cb185-623"><a href="#cb185-623"></a>monthly_births <span class="ot">&lt;-</span> Birthdays  <span class="sc">|&gt;</span></span>
<span id="cb185-624"><a href="#cb185-624"></a>  <span class="fu">mutate</span>(<span class="at">mon_lab=</span><span class="fu">month</span>(date, <span class="at">label=</span><span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb185-625"><a href="#cb185-625"></a>  <span class="fu">group_by</span>(year,mon_lab) <span class="sc">|&gt;</span></span>
<span id="cb185-626"><a href="#cb185-626"></a>  <span class="fu">summarize</span>(<span class="at">mon_birth=</span><span class="fu">sum</span>(births))</span>
<span id="cb185-627"><a href="#cb185-627"></a></span>
<span id="cb185-628"><a href="#cb185-628"></a>monthly_births</span>
<span id="cb185-629"><a href="#cb185-629"></a></span>
<span id="cb185-630"><a href="#cb185-630"></a><span class="fu">ggplot</span>(monthly_births,<span class="fu">aes</span>(<span class="at">x=</span>mon_birth,<span class="at">y=</span>mon_lab)) <span class="sc">+</span></span>
<span id="cb185-631"><a href="#cb185-631"></a>  <span class="fu">geom_density_ridges</span>()</span>
<span id="cb185-632"><a href="#cb185-632"></a><span class="fu">ggplot</span>(monthly_births) <span class="sc">+</span></span>
<span id="cb185-633"><a href="#cb185-633"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>mon_birth,<span class="at">x=</span>mon_lab)) </span>
<span id="cb185-634"><a href="#cb185-634"></a><span class="co">#It seems that July, August, and September usually seem to have the most births, while November and February tend to have the least</span></span>
<span id="cb185-635"><a href="#cb185-635"></a></span>
<span id="cb185-636"><a href="#cb185-636"></a></span>
<span id="cb185-637"><a href="#cb185-637"></a><span class="in">```</span></span>
<span id="cb185-638"><a href="#cb185-638"></a></span>
<span id="cb185-639"><a href="#cb185-639"></a></span>
<span id="cb185-640"><a href="#cb185-640"></a><span class="fu">#### Part b {.unnumbered}</span></span>
<span id="cb185-641"><a href="#cb185-641"></a></span>
<span id="cb185-642"><a href="#cb185-642"></a>In 1988, calculate the total number of births per week in each state. Get rid of week "53", which isn't a complete week! Then, make a line plot of births by week for each state and comment on what you learn. For example, do you notice any seasonal trends? Are these the same in every state? Any outliers?</span>
<span id="cb185-643"><a href="#cb185-643"></a></span>
<span id="cb185-644"><a href="#cb185-644"></a>Its harder to see trends in the smaller states, but it seems that births peak from week 30 (around mid-late July) to week 40 (the end of September). This is most pronounce in California, with a steady peak centering around a maximum at week 38. Outliers are somewhat hard to see in this dataset, but Illinois seems to peak around week 12 (Mid-late March, that is, now!)</span>
<span id="cb185-647"><a href="#cb185-647"></a><span class="in">```{r}</span></span>
<span id="cb185-648"><a href="#cb185-648"></a>weekly_births <span class="ot">&lt;-</span> Birthdays <span class="sc">|&gt;</span></span>
<span id="cb185-649"><a href="#cb185-649"></a>  <span class="fu">filter</span>(year<span class="sc">==</span><span class="dv">1988</span>) <span class="sc">|&gt;</span></span>
<span id="cb185-650"><a href="#cb185-650"></a>  <span class="fu">mutate</span>(<span class="at">week=</span><span class="fu">week</span>(date)) <span class="sc">|&gt;</span></span>
<span id="cb185-651"><a href="#cb185-651"></a>  <span class="fu">filter</span>(week<span class="sc">!=</span><span class="dv">53</span>) <span class="sc">|&gt;</span></span>
<span id="cb185-652"><a href="#cb185-652"></a>  <span class="fu">group_by</span>(state,week) <span class="sc">|&gt;</span></span>
<span id="cb185-653"><a href="#cb185-653"></a>  <span class="fu">summarize</span>(<span class="at">wk_birth=</span><span class="fu">sum</span>(births))</span>
<span id="cb185-654"><a href="#cb185-654"></a>weekly_births <span class="sc">|&gt;</span></span>
<span id="cb185-655"><a href="#cb185-655"></a><span class="fu">arrange</span>(<span class="fu">desc</span>(wk_birth))</span>
<span id="cb185-656"><a href="#cb185-656"></a><span class="fu">max</span>(weekly_births<span class="sc">$</span>wk_birth)</span>
<span id="cb185-657"><a href="#cb185-657"></a><span class="fu">ggplot</span>(weekly_births, <span class="fu">aes</span>(<span class="at">x=</span>week,<span class="at">y=</span>wk_birth,<span class="at">color=</span>state)) <span class="sc">+</span></span>
<span id="cb185-658"><a href="#cb185-658"></a>  <span class="fu">geom_line</span>(<span class="at">linewidth=</span><span class="fl">0.4</span>)</span>
<span id="cb185-659"><a href="#cb185-659"></a><span class="in">```</span></span>
<span id="cb185-660"><a href="#cb185-660"></a></span>
<span id="cb185-661"><a href="#cb185-661"></a><span class="fu">#### Part c {.unnumbered}</span></span>
<span id="cb185-662"><a href="#cb185-662"></a></span>
<span id="cb185-663"><a href="#cb185-663"></a>Repeat the above for just Minnesota (MN) and Louisiana (LA). MN has one of the coldest climates and LA has one of the warmest. How do their seasonal trends compare? Do you think these trends are similar in other colder and warmer states? Try it!</span>
<span id="cb185-664"><a href="#cb185-664"></a>In Louisiana, the aforementioned July-September birth peak is much more pronounced, and there is also a fairly pronounced valley between March and early June. In MN, on the other hand, births stay much more steady, and mostly just drop surrounding the new year. A state like Wisconsin shows both this New Years drop off and summer peak, which here starts in mid May, while while somewhere like Arizona, while much less consistent, shows some shakey signs of this summertime peak</span>
<span id="cb185-665"><a href="#cb185-665"></a></span>
<span id="cb185-668"><a href="#cb185-668"></a><span class="in">```{r}</span></span>
<span id="cb185-669"><a href="#cb185-669"></a>weekly_births <span class="sc">|&gt;</span></span>
<span id="cb185-670"><a href="#cb185-670"></a>  <span class="fu">filter</span>(state<span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"MN"</span>,<span class="st">"LA"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb185-671"><a href="#cb185-671"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>week,<span class="at">y=</span>wk_birth,<span class="at">color=</span>state)) <span class="sc">+</span></span>
<span id="cb185-672"><a href="#cb185-672"></a>  <span class="fu">geom_line</span>(<span class="at">linewidth=</span><span class="fl">0.4</span>)</span>
<span id="cb185-673"><a href="#cb185-673"></a>weekly_births <span class="sc">|&gt;</span></span>
<span id="cb185-674"><a href="#cb185-674"></a>  <span class="fu">filter</span>(state<span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"WI"</span>,<span class="st">"AZ"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb185-675"><a href="#cb185-675"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>week,<span class="at">y=</span>wk_birth,<span class="at">color=</span>state)) <span class="sc">+</span></span>
<span id="cb185-676"><a href="#cb185-676"></a>  <span class="fu">geom_line</span>(<span class="at">linewidth=</span><span class="fl">0.4</span>)</span>
<span id="cb185-677"><a href="#cb185-677"></a><span class="in">```</span></span>
<span id="cb185-678"><a href="#cb185-678"></a></span>
<span id="cb185-679"><a href="#cb185-679"></a></span>
<span id="cb185-680"><a href="#cb185-680"></a></span>
<span id="cb185-681"><a href="#cb185-681"></a><span class="fu">### Exercise 8: More Practice {.unnumbered}</span></span>
<span id="cb185-682"><a href="#cb185-682"></a></span>
<span id="cb185-683"><a href="#cb185-683"></a><span class="fu">#### Part a {.unnumbered}</span></span>
<span id="cb185-684"><a href="#cb185-684"></a></span>
<span id="cb185-685"><a href="#cb185-685"></a>Create a dataset with only births in Massachusetts (MA) in 1979 and sort the days from those with the most births to those with the fewest.</span>
<span id="cb185-686"><a href="#cb185-686"></a></span>
<span id="cb185-689"><a href="#cb185-689"></a><span class="in">```{r}</span></span>
<span id="cb185-690"><a href="#cb185-690"></a>Birthdays <span class="sc">|&gt;</span></span>
<span id="cb185-691"><a href="#cb185-691"></a>  <span class="fu">filter</span>(year<span class="sc">==</span><span class="dv">1979</span>, state<span class="sc">==</span><span class="st">"MA"</span>) <span class="sc">|&gt;</span></span>
<span id="cb185-692"><a href="#cb185-692"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(births))</span>
<span id="cb185-693"><a href="#cb185-693"></a><span class="in">```</span></span>
<span id="cb185-694"><a href="#cb185-694"></a></span>
<span id="cb185-695"><a href="#cb185-695"></a><span class="fu">#### Part b {.unnumbered}</span></span>
<span id="cb185-696"><a href="#cb185-696"></a></span>
<span id="cb185-697"><a href="#cb185-697"></a>Make a table showing the five states with the most births between September 9, 1979 and September 12, 1979, including the 9th and 12th. Arrange the table in descending order of births.</span>
<span id="cb185-700"><a href="#cb185-700"></a><span class="in">```{r}</span></span>
<span id="cb185-701"><a href="#cb185-701"></a>Birthdays <span class="sc">|&gt;</span></span>
<span id="cb185-702"><a href="#cb185-702"></a>  <span class="fu">filter</span>(date<span class="sc">&gt;=</span><span class="fu">ymd</span>(<span class="st">"1979-09-09"</span>),date<span class="sc">&lt;=</span><span class="fu">ymd</span>(<span class="st">"1979-09-12"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb185-703"><a href="#cb185-703"></a>  <span class="fu">group_by</span>(state) <span class="sc">|&gt;</span></span>
<span id="cb185-704"><a href="#cb185-704"></a>  <span class="fu">summarize</span>(<span class="at">prd_births=</span><span class="fu">sum</span>(births)) <span class="sc">|&gt;</span></span>
<span id="cb185-705"><a href="#cb185-705"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(prd_births)) <span class="sc">|&gt;</span></span>
<span id="cb185-706"><a href="#cb185-706"></a>  <span class="fu">head</span>(<span class="at">n=</span><span class="dv">5</span>)</span>
<span id="cb185-707"><a href="#cb185-707"></a>  </span>
<span id="cb185-708"><a href="#cb185-708"></a><span class="in">```</span></span>
<span id="cb185-709"><a href="#cb185-709"></a><span class="fu">## Solutions</span></span>
<span id="cb185-710"><a href="#cb185-710"></a></span>
<span id="cb185-711"><a href="#cb185-711"></a>&lt;details&gt;</span>
<span id="cb185-712"><a href="#cb185-712"></a></span>
<span id="cb185-713"><a href="#cb185-713"></a>&lt;summary&gt;Click for Solutions&lt;/summary&gt;</span>
<span id="cb185-714"><a href="#cb185-714"></a></span>
<span id="cb185-715"><a href="#cb185-715"></a><span class="fu">### Example 1: Single Verb {.unnumbered}</span></span>
<span id="cb185-716"><a href="#cb185-716"></a></span>
<span id="cb185-719"><a href="#cb185-719"></a><span class="in">```{r}</span></span>
<span id="cb185-720"><a href="#cb185-720"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(<span class="at">y =</span> body_mass_g, <span class="at">x =</span> bill_length_mm, <span class="at">color =</span> species)) <span class="sc">+</span> </span>
<span id="cb185-721"><a href="#cb185-721"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb185-722"><a href="#cb185-722"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> sex)</span>
<span id="cb185-723"><a href="#cb185-723"></a></span>
<span id="cb185-724"><a href="#cb185-724"></a><span class="in">```</span></span>
<span id="cb185-725"><a href="#cb185-725"></a></span>
<span id="cb185-726"><a href="#cb185-726"></a>\</span>
<span id="cb185-727"><a href="#cb185-727"></a>\</span>
<span id="cb185-728"><a href="#cb185-728"></a>\</span>
<span id="cb185-729"><a href="#cb185-729"></a>\</span>
<span id="cb185-730"><a href="#cb185-730"></a></span>
<span id="cb185-731"><a href="#cb185-731"></a></span>
<span id="cb185-732"><a href="#cb185-732"></a></span>
<span id="cb185-735"><a href="#cb185-735"></a><span class="in">```{r}</span></span>
<span id="cb185-736"><a href="#cb185-736"></a><span class="co"># Get data on only Adelie penguins that weigh more than 4700g</span></span>
<span id="cb185-737"><a href="#cb185-737"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb185-738"><a href="#cb185-738"></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">"Adelie"</span>, body_mass_g <span class="sc">&gt;</span> <span class="dv">4700</span>)</span>
<span id="cb185-739"><a href="#cb185-739"></a></span>
<span id="cb185-740"><a href="#cb185-740"></a><span class="co"># Get data on penguin body mass only</span></span>
<span id="cb185-741"><a href="#cb185-741"></a><span class="co"># Show just the first 6 rows</span></span>
<span id="cb185-742"><a href="#cb185-742"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb185-743"><a href="#cb185-743"></a>  <span class="fu">select</span>(body_mass_g) <span class="sc">|&gt;</span> </span>
<span id="cb185-744"><a href="#cb185-744"></a>  <span class="fu">head</span>()</span>
<span id="cb185-745"><a href="#cb185-745"></a></span>
<span id="cb185-746"><a href="#cb185-746"></a><span class="co"># Sort the penguins from smallest to largest body mass</span></span>
<span id="cb185-747"><a href="#cb185-747"></a><span class="co"># Show just the first 6 rows</span></span>
<span id="cb185-748"><a href="#cb185-748"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb185-749"><a href="#cb185-749"></a>  <span class="fu">arrange</span>(body_mass_g) <span class="sc">|&gt;</span> </span>
<span id="cb185-750"><a href="#cb185-750"></a>  <span class="fu">head</span>()</span>
<span id="cb185-751"><a href="#cb185-751"></a></span>
<span id="cb185-752"><a href="#cb185-752"></a><span class="co"># Calculate the average body mass across all penguins</span></span>
<span id="cb185-753"><a href="#cb185-753"></a><span class="co"># Note: na.rm = TRUE removes the NAs from the calculation</span></span>
<span id="cb185-754"><a href="#cb185-754"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb185-755"><a href="#cb185-755"></a>  <span class="fu">summarize</span>(<span class="at">mean =</span> <span class="fu">mean</span>(body_mass_g, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb185-756"><a href="#cb185-756"></a></span>
<span id="cb185-757"><a href="#cb185-757"></a><span class="co"># Calculate the average body mass by species</span></span>
<span id="cb185-758"><a href="#cb185-758"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb185-759"><a href="#cb185-759"></a>  <span class="fu">group_by</span>(species) <span class="sc">|&gt;</span> </span>
<span id="cb185-760"><a href="#cb185-760"></a>  <span class="fu">summarize</span>(<span class="at">mean =</span> <span class="fu">mean</span>(body_mass_g, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb185-761"><a href="#cb185-761"></a></span>
<span id="cb185-762"><a href="#cb185-762"></a><span class="co"># Create a new column that records body mass in kilograms, not grams</span></span>
<span id="cb185-763"><a href="#cb185-763"></a><span class="co"># </span><span class="al">NOTE</span><span class="co">: there are 1000 g in 1 kg</span></span>
<span id="cb185-764"><a href="#cb185-764"></a><span class="co"># Show just the first 6 rows</span></span>
<span id="cb185-765"><a href="#cb185-765"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb185-766"><a href="#cb185-766"></a>  <span class="fu">mutate</span>(<span class="at">body_mass_kg =</span> body_mass_g<span class="sc">/</span><span class="dv">1000</span>) <span class="sc">|&gt;</span> </span>
<span id="cb185-767"><a href="#cb185-767"></a>  <span class="fu">head</span>()</span>
<span id="cb185-768"><a href="#cb185-768"></a></span>
<span id="cb185-769"><a href="#cb185-769"></a><span class="in">```</span></span>
<span id="cb185-770"><a href="#cb185-770"></a></span>
<span id="cb185-771"><a href="#cb185-771"></a>\</span>
<span id="cb185-772"><a href="#cb185-772"></a>\</span>
<span id="cb185-773"><a href="#cb185-773"></a>\</span>
<span id="cb185-774"><a href="#cb185-774"></a>\</span>
<span id="cb185-775"><a href="#cb185-775"></a></span>
<span id="cb185-776"><a href="#cb185-776"></a></span>
<span id="cb185-777"><a href="#cb185-777"></a></span>
<span id="cb185-780"><a href="#cb185-780"></a><span class="in">```{r}</span></span>
<span id="cb185-781"><a href="#cb185-781"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(<span class="at">x =</span> species)) <span class="sc">+</span> </span>
<span id="cb185-782"><a href="#cb185-782"></a>  <span class="fu">geom_bar</span>()</span>
<span id="cb185-783"><a href="#cb185-783"></a></span>
<span id="cb185-784"><a href="#cb185-784"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb185-785"><a href="#cb185-785"></a>  <span class="fu">group_by</span>(species) <span class="sc">|&gt;</span> </span>
<span id="cb185-786"><a href="#cb185-786"></a>  <span class="fu">summarize</span>(<span class="fu">n</span>())</span>
<span id="cb185-787"><a href="#cb185-787"></a></span>
<span id="cb185-788"><a href="#cb185-788"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb185-789"><a href="#cb185-789"></a>  <span class="fu">count</span>(species)</span>
<span id="cb185-790"><a href="#cb185-790"></a><span class="in">```</span></span>
<span id="cb185-791"><a href="#cb185-791"></a></span>
<span id="cb185-792"><a href="#cb185-792"></a></span>
<span id="cb185-793"><a href="#cb185-793"></a></span>
<span id="cb185-794"><a href="#cb185-794"></a><span class="fu">### Example 2: Multiple Verbs {.unnumbered}</span></span>
<span id="cb185-795"><a href="#cb185-795"></a></span>
<span id="cb185-798"><a href="#cb185-798"></a><span class="in">```{r}</span></span>
<span id="cb185-799"><a href="#cb185-799"></a><span class="co"># Sort Gentoo penguins from biggest to smallest with respect to their </span></span>
<span id="cb185-800"><a href="#cb185-800"></a><span class="co"># bill length in cm (there are 10 mm in a cm)</span></span>
<span id="cb185-801"><a href="#cb185-801"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb185-802"><a href="#cb185-802"></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">"Gentoo"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb185-803"><a href="#cb185-803"></a>  <span class="fu">mutate</span>(<span class="at">bill_length_cm =</span> bill_length_mm <span class="sc">/</span> <span class="dv">10</span>) <span class="sc">|&gt;</span> </span>
<span id="cb185-804"><a href="#cb185-804"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(bill_length_cm))</span>
<span id="cb185-805"><a href="#cb185-805"></a></span>
<span id="cb185-806"><a href="#cb185-806"></a><span class="co"># Sort the species from smallest to biggest with respect to their </span></span>
<span id="cb185-807"><a href="#cb185-807"></a><span class="co"># average bill length in cm</span></span>
<span id="cb185-808"><a href="#cb185-808"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb185-809"><a href="#cb185-809"></a>  <span class="fu">mutate</span>(<span class="at">bill_length_cm =</span> bill_length_mm <span class="sc">/</span> <span class="dv">10</span>) <span class="sc">|&gt;</span> </span>
<span id="cb185-810"><a href="#cb185-810"></a>  <span class="fu">group_by</span>(species) <span class="sc">|&gt;</span> </span>
<span id="cb185-811"><a href="#cb185-811"></a>  <span class="fu">summarize</span>(<span class="at">mean_bill_length =</span> <span class="fu">mean</span>(bill_length_cm, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb185-812"><a href="#cb185-812"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(mean_bill_length))</span>
<span id="cb185-813"><a href="#cb185-813"></a><span class="in">```</span></span>
<span id="cb185-814"><a href="#cb185-814"></a></span>
<span id="cb185-815"><a href="#cb185-815"></a></span>
<span id="cb185-816"><a href="#cb185-816"></a></span>
<span id="cb185-817"><a href="#cb185-817"></a><span class="fu">### Example 3: Interpret Code {.unnumbered}</span></span>
<span id="cb185-818"><a href="#cb185-818"></a></span>
<span id="cb185-819"><a href="#cb185-819"></a></span>
<span id="cb185-820"><a href="#cb185-820"></a></span>
<span id="cb185-821"><a href="#cb185-821"></a><span class="fu">### Exercise 1: More Filtering {.unnumbered}</span></span>
<span id="cb185-822"><a href="#cb185-822"></a></span>
<span id="cb185-823"><a href="#cb185-823"></a><span class="fu">#### Part a {.unnumbered}</span></span>
<span id="cb185-824"><a href="#cb185-824"></a></span>
<span id="cb185-827"><a href="#cb185-827"></a><span class="in">```{r}</span></span>
<span id="cb185-828"><a href="#cb185-828"></a><span class="co"># Create a dataset with just Adelie and Chinstrap using %in%</span></span>
<span id="cb185-829"><a href="#cb185-829"></a><span class="co"># Pipe this into `count(species)` to confirm that you only have these 2 species</span></span>
<span id="cb185-830"><a href="#cb185-830"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb185-831"><a href="#cb185-831"></a>  <span class="fu">filter</span>(species <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Adelie"</span>, <span class="st">"Chinstrap"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb185-832"><a href="#cb185-832"></a>  <span class="fu">count</span>(species)</span>
<span id="cb185-833"><a href="#cb185-833"></a><span class="in">```</span></span>
<span id="cb185-834"><a href="#cb185-834"></a></span>
<span id="cb185-837"><a href="#cb185-837"></a><span class="in">```{r}</span></span>
<span id="cb185-838"><a href="#cb185-838"></a><span class="co"># Create a dataset with just Adelie and Chinstrap using !=</span></span>
<span id="cb185-839"><a href="#cb185-839"></a><span class="co"># Pipe this into `count(species)` to confirm that you only have these 2 species</span></span>
<span id="cb185-840"><a href="#cb185-840"></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb185-841"><a href="#cb185-841"></a>  <span class="fu">filter</span>(species <span class="sc">!=</span> <span class="st">"Gentoo"</span>) <span class="sc">|&gt;</span></span>
<span id="cb185-842"><a href="#cb185-842"></a>  <span class="fu">count</span>(species)</span>
<span id="cb185-843"><a href="#cb185-843"></a><span class="in">```</span></span>
<span id="cb185-844"><a href="#cb185-844"></a></span>
<span id="cb185-845"><a href="#cb185-845"></a><span class="fu">#### Part b {.unnumbered}</span></span>
<span id="cb185-846"><a href="#cb185-846"></a></span>
<span id="cb185-847"><a href="#cb185-847"></a><span class="fu">#### Part c {.unnumbered}</span></span>
<span id="cb185-848"><a href="#cb185-848"></a></span>
<span id="cb185-849"><a href="#cb185-849"></a>It might get rid of data points even if they have complete information on the variables we need, just because they're missing info on variables we don't need.</span>
<span id="cb185-850"><a href="#cb185-850"></a></span>
<span id="cb185-851"><a href="#cb185-851"></a></span>
<span id="cb185-852"><a href="#cb185-852"></a><span class="fu">### Exercise 2: More selecting {.unnumbered}</span></span>
<span id="cb185-853"><a href="#cb185-853"></a></span>
<span id="cb185-856"><a href="#cb185-856"></a><span class="in">```{r}</span></span>
<span id="cb185-857"><a href="#cb185-857"></a><span class="co"># First: recall the variable names</span></span>
<span id="cb185-858"><a href="#cb185-858"></a><span class="fu">names</span>(penguins)</span>
<span id="cb185-859"><a href="#cb185-859"></a><span class="in">```</span></span>
<span id="cb185-860"><a href="#cb185-860"></a></span>
<span id="cb185-863"><a href="#cb185-863"></a><span class="in">```{r}</span></span>
<span id="cb185-864"><a href="#cb185-864"></a><span class="co"># Use a shortcut to keep everything but the year and island variables</span></span>
<span id="cb185-865"><a href="#cb185-865"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb185-866"><a href="#cb185-866"></a>  <span class="fu">select</span>(<span class="sc">-</span>year, <span class="sc">-</span>island)</span>
<span id="cb185-867"><a href="#cb185-867"></a><span class="in">```</span></span>
<span id="cb185-868"><a href="#cb185-868"></a></span>
<span id="cb185-871"><a href="#cb185-871"></a><span class="in">```{r}</span></span>
<span id="cb185-872"><a href="#cb185-872"></a><span class="co"># Use a shortcut to keep only species and the penguin characteristics measured in mm</span></span>
<span id="cb185-873"><a href="#cb185-873"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb185-874"><a href="#cb185-874"></a>  <span class="fu">select</span>(species, <span class="fu">ends_with</span>(<span class="st">"mm"</span>))</span>
<span id="cb185-875"><a href="#cb185-875"></a><span class="in">```</span></span>
<span id="cb185-876"><a href="#cb185-876"></a></span>
<span id="cb185-879"><a href="#cb185-879"></a><span class="in">```{r}</span></span>
<span id="cb185-880"><a href="#cb185-880"></a><span class="co"># Use a shortcut to keep only species and bill-related measurements</span></span>
<span id="cb185-881"><a href="#cb185-881"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb185-882"><a href="#cb185-882"></a>  <span class="fu">select</span>(species, <span class="fu">starts_with</span>(<span class="st">"bill"</span>))</span>
<span id="cb185-883"><a href="#cb185-883"></a><span class="in">```</span></span>
<span id="cb185-884"><a href="#cb185-884"></a></span>
<span id="cb185-887"><a href="#cb185-887"></a><span class="in">```{r}</span></span>
<span id="cb185-888"><a href="#cb185-888"></a><span class="co"># Use a shortcut to keep only species and the length-related characteristics</span></span>
<span id="cb185-889"><a href="#cb185-889"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb185-890"><a href="#cb185-890"></a>  <span class="fu">select</span>(species, <span class="fu">contains</span>(<span class="st">"length"</span>))</span>
<span id="cb185-891"><a href="#cb185-891"></a><span class="in">```</span></span>
<span id="cb185-892"><a href="#cb185-892"></a></span>
<span id="cb185-893"><a href="#cb185-893"></a></span>
<span id="cb185-894"><a href="#cb185-894"></a><span class="fu">### Exercise 3: Arranging, counting, &amp; grouping by multiple variables {.unnumbered}</span></span>
<span id="cb185-895"><a href="#cb185-895"></a></span>
<span id="cb185-898"><a href="#cb185-898"></a><span class="in">```{r}</span></span>
<span id="cb185-899"><a href="#cb185-899"></a><span class="co"># Change this code to sort the penguins by species, and then island name</span></span>
<span id="cb185-900"><a href="#cb185-900"></a><span class="co"># </span><span class="al">NOTE</span><span class="co">: The first row should be an Adelie penguin living on Biscoe island</span></span>
<span id="cb185-901"><a href="#cb185-901"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb185-902"><a href="#cb185-902"></a>  <span class="fu">arrange</span>(species, island) <span class="sc">|&gt;</span> </span>
<span id="cb185-903"><a href="#cb185-903"></a>  <span class="fu">head</span>()</span>
<span id="cb185-904"><a href="#cb185-904"></a><span class="in">```</span></span>
<span id="cb185-905"><a href="#cb185-905"></a></span>
<span id="cb185-908"><a href="#cb185-908"></a><span class="in">```{r}</span></span>
<span id="cb185-909"><a href="#cb185-909"></a><span class="co"># Change this code to count the number of male/female penguins observed for each species</span></span>
<span id="cb185-910"><a href="#cb185-910"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb185-911"><a href="#cb185-911"></a>  <span class="fu">count</span>(species, sex)</span>
<span id="cb185-912"><a href="#cb185-912"></a><span class="in">```</span></span>
<span id="cb185-913"><a href="#cb185-913"></a></span>
<span id="cb185-916"><a href="#cb185-916"></a><span class="in">```{r}</span></span>
<span id="cb185-917"><a href="#cb185-917"></a><span class="co"># Change this code to calculate the average body mass by species and sex</span></span>
<span id="cb185-918"><a href="#cb185-918"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb185-919"><a href="#cb185-919"></a>  <span class="fu">group_by</span>(species, sex) <span class="sc">|&gt;</span> </span>
<span id="cb185-920"><a href="#cb185-920"></a>  <span class="fu">summarize</span>(<span class="at">mean =</span> <span class="fu">mean</span>(body_mass_g, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb185-921"><a href="#cb185-921"></a></span>
<span id="cb185-922"><a href="#cb185-922"></a><span class="in">```</span></span>
<span id="cb185-923"><a href="#cb185-923"></a></span>
<span id="cb185-924"><a href="#cb185-924"></a></span>
<span id="cb185-925"><a href="#cb185-925"></a><span class="fu">### Exercise 4: Dates {.unnumbered}</span></span>
<span id="cb185-926"><a href="#cb185-926"></a></span>
<span id="cb185-929"><a href="#cb185-929"></a><span class="in">```{r}</span></span>
<span id="cb185-930"><a href="#cb185-930"></a><span class="co"># Get today's date</span></span>
<span id="cb185-931"><a href="#cb185-931"></a><span class="fu">as.Date</span>(<span class="fu">today</span>())</span>
<span id="cb185-932"><a href="#cb185-932"></a></span>
<span id="cb185-933"><a href="#cb185-933"></a><span class="co"># Let's store this as "today" so we can work with it below</span></span>
<span id="cb185-934"><a href="#cb185-934"></a>today <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="fu">today</span>())</span>
<span id="cb185-935"><a href="#cb185-935"></a></span>
<span id="cb185-936"><a href="#cb185-936"></a><span class="co"># Check out the class of this object</span></span>
<span id="cb185-937"><a href="#cb185-937"></a><span class="fu">class</span>(today)</span>
<span id="cb185-938"><a href="#cb185-938"></a><span class="in">```</span></span>
<span id="cb185-939"><a href="#cb185-939"></a></span>
<span id="cb185-942"><a href="#cb185-942"></a><span class="in">```{r}</span></span>
<span id="cb185-943"><a href="#cb185-943"></a><span class="co"># Records just the 4-digit year</span></span>
<span id="cb185-944"><a href="#cb185-944"></a><span class="fu">year</span>(today)</span>
<span id="cb185-945"><a href="#cb185-945"></a><span class="in">```</span></span>
<span id="cb185-946"><a href="#cb185-946"></a></span>
<span id="cb185-949"><a href="#cb185-949"></a><span class="in">```{r}</span></span>
<span id="cb185-950"><a href="#cb185-950"></a><span class="co"># Today's month, as a number or label</span></span>
<span id="cb185-951"><a href="#cb185-951"></a><span class="fu">month</span>(today)</span>
<span id="cb185-952"><a href="#cb185-952"></a><span class="fu">month</span>(today, <span class="at">label =</span> <span class="cn">TRUE</span>)</span>
<span id="cb185-953"><a href="#cb185-953"></a><span class="in">```</span></span>
<span id="cb185-954"><a href="#cb185-954"></a></span>
<span id="cb185-957"><a href="#cb185-957"></a><span class="in">```{r}</span></span>
<span id="cb185-958"><a href="#cb185-958"></a><span class="co"># This is the week of the year (1-52)</span></span>
<span id="cb185-959"><a href="#cb185-959"></a><span class="fu">week</span>(today)</span>
<span id="cb185-960"><a href="#cb185-960"></a><span class="in">```</span></span>
<span id="cb185-961"><a href="#cb185-961"></a></span>
<span id="cb185-964"><a href="#cb185-964"></a><span class="in">```{r}</span></span>
<span id="cb185-965"><a href="#cb185-965"></a><span class="co"># Day of the month (1-31) and day of the year (1-366)</span></span>
<span id="cb185-966"><a href="#cb185-966"></a><span class="fu">mday</span>(today)</span>
<span id="cb185-967"><a href="#cb185-967"></a><span class="fu">yday</span>(today)  <span class="co"># This is often called the "Julian day"</span></span>
<span id="cb185-968"><a href="#cb185-968"></a><span class="in">```</span></span>
<span id="cb185-969"><a href="#cb185-969"></a></span>
<span id="cb185-972"><a href="#cb185-972"></a><span class="in">```{r}</span></span>
<span id="cb185-973"><a href="#cb185-973"></a><span class="co"># Day of the week as a number or label</span></span>
<span id="cb185-974"><a href="#cb185-974"></a><span class="fu">wday</span>(today)</span>
<span id="cb185-975"><a href="#cb185-975"></a><span class="fu">wday</span>(today, <span class="at">label =</span> <span class="cn">TRUE</span>)</span>
<span id="cb185-976"><a href="#cb185-976"></a><span class="in">```</span></span>
<span id="cb185-977"><a href="#cb185-977"></a></span>
<span id="cb185-980"><a href="#cb185-980"></a><span class="in">```{r}</span></span>
<span id="cb185-981"><a href="#cb185-981"></a><span class="co"># today is on or after Feb 14, 2024</span></span>
<span id="cb185-982"><a href="#cb185-982"></a>today <span class="sc">&gt;=</span> <span class="fu">ymd</span>(<span class="st">"2024-02-14"</span>)</span>
<span id="cb185-983"><a href="#cb185-983"></a><span class="co"># today is not before Feb 14, 2024</span></span>
<span id="cb185-984"><a href="#cb185-984"></a>today <span class="sc">&lt;</span> <span class="fu">ymd</span>(<span class="st">"2024-02-14"</span>)</span>
<span id="cb185-985"><a href="#cb185-985"></a><span class="in">```</span></span>
<span id="cb185-986"><a href="#cb185-986"></a></span>
<span id="cb185-987"><a href="#cb185-987"></a></span>
<span id="cb185-988"><a href="#cb185-988"></a>&lt;/details&gt;</span>
</code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>